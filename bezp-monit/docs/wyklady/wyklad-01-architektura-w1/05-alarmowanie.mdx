---
title: "Filozofia alarmowania i eskalacji"
sidebar_position: 5
---

import { LearningObjective, KeyConcept, Example } from '@site/src/components/SlideComponents';

# Filozofia alarmowania i eskalacji

<LearningObjective>
Po tej sekcji student rozumie zasady projektowania efektywnego systemu alarmowego dla instalacji OZE: hierarchiÄ™ priorytetÃ³w (P1â€“P4), techniki minimalizacji faÅ‚szywych alarmÃ³w (histereza, adaptacyjne progi), projektowanie reguÅ‚ alarmowych oraz mechanizmy eskalacji do odpowiednich osÃ³b/rÃ³l w odpowiednim czasie.
</LearningObjective>

## Wprowadzenie: Problem alarm fatigue

**Alarm fatigue** (znuÅ¼enie alarmami) to zjawisko, w ktÃ³rym operatorzy **przestajÄ… reagowaÄ‡ na alarmy**, poniewaÅ¼ jest ich **zbyt wiele** i wiÄ™kszoÅ›Ä‡ to **faÅ‚szywe alarmy** (false positives). To powaÅ¼ny problem w przemyÅ›leâ€”statystyki pokazujÄ…:

- **PrzeciÄ™tna instalacja przemysÅ‚owa**: 1000â€“5000 alarmÃ³w/dzieÅ„
- **Operator moÅ¼e obsÅ‚uÅ¼yÄ‡**: ~150â€“200 alarmÃ³w/dzieÅ„ (ze zrozumieniem)
- **Skutek**: 80â€“90% alarmÃ³w ignorowanych, w tym prawdziwe problemy!

W sektorze OZE, gdzie instalacje sÄ… czÄ™sto **bezobsÅ‚ugowe** (brak operatora on-site 24/7), alarm fatigue prowadzi do:
- **OpÃ³ÅºnieÅ„ w reakcji**: Problem wykryty po godzinach/dniach (zamiast minut)
- **Utraty produkcji**: Przestoje nieadresowane â†’ â‚¬â‚¬â‚¬
- **Ryzyka bezpieczeÅ„stwa**: Critical alarms (np. thermal runaway BESS) zignorowane

<KeyConcept title="Dobry alarm to akcjonowalny alarm">
**Dobry alarm** speÅ‚nia 3 kryteria (ISA-18.2 standard):
1. **Akcjonowalny**: Operator wie, co zrobiÄ‡ w odpowiedzi
2. **Unikalny**: Nie jest duplikatem innego alarmu
3. **Priorytetyzowany**: Jasno okreÅ›lony poziom waÅ¼noÅ›ci

**ZÅ‚y alarm**: Informacyjny ("Inverter wÅ‚Ä…czyÅ‚ siÄ™"), niejednoznaczny ("Error 0x47AB"), czÄ™sty (> 10Ã— /h)â€”generuje noise, nie value.
</KeyConcept>

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 6 minut

**Przebieg**:
1. Wprowadzenie problemu alarm fatigue (3 min)â€”pokaÅ¼ dane statystyczne
2. OmÃ³w kryterium "dobry alarm" (2 min)
3. Pytanie do sali: "Czy mieliÅ›cie doÅ›wiadczenie z alarm fatigue? (w praktykach, projektach?)" (1 min)

**Punkty kluczowe**:
- **Quality > Quantity**: 10 dobrych alarmÃ³w > 1000 zÅ‚ych
- **ISA-18.2**: Standard branÅ¼owy dla alarm management (warto wspomnieÄ‡â€”studenci mogÄ… spotkaÄ‡ w branÅ¼y)
- **OZE specyficzne**: Brak operatora on-site â†’ alarmy muszÄ… byÄ‡ jeszcze bardziej precise

**Pytania studenckie**:
- Q: Jaki jest optymalny alarm rate (alarmÃ³w/dzieÅ„)?
- A: ISA-18.2 rekomenduje **< 6 alarmÃ³w/h/operator** (= 144/dzieÅ„ dla 24/7 coverage). Dla OZE (remote monitoring): Target **< 50 alarmÃ³w/dzieÅ„** dla instalacji > 1 MW (mniej operatorÃ³w, wiÄ™cej automatyzacji).

</details>

---

## Hierarchia priorytetÃ³w alarmÃ³w

**Priorytetyzacja** to fundament skutecznego alarm management. Nie wszystkie alarmy sÄ… rÃ³wnie waÅ¼neâ€”niektÃ³re wymagajÄ… **natychmiastowej reakcji**, inne mogÄ… czekaÄ‡.

### Standard ISA-18.2: 4 poziomy priorytetÃ³w

| Priorytet | Nazwa | Czas reakcji | PrzykÅ‚ady w OZE | Kolor (SCADA) |
|-----------|-------|--------------|-----------------|---------------|
| **P1** | **Critical** | < 10 min | Thermal runaway (BESS), Hâ‚‚S > 1000 ppm (biogaz), Arc fault (PV) | ğŸ”´ Czerwony |
| **P2** | **High** | < 1 h | PR < 0.75 (PV), Gearbox vibration alarm (wiatr), Grid disconnect | ğŸŸ  PomaraÅ„czowy |
| **P3** | **Medium** | < 24 h | String underperformance (PV), Minor CHP alarm (biogaz), Low SoH trend (BESS) | ğŸŸ¡ Å»Ã³Å‚ty |
| **P4** | **Low / Info** | < 1 week | Planned maintenance due, Firmware update available, Pyranometer calibration overdue | ğŸ”µ Niebieski |

### Kryteria przypisania priorytetu

**P1 (Critical)** â€” BezpieczeÅ„stwo ludzi lub ryzyko katastrofalnej awarii:
- **Safety**: Gas leaks (Hâ‚‚S, CHâ‚„), thermal runaway, fire detection
- **Catastrophic failure**: Arc fault (PV), blade detachment (wind), BMS fault (BESS)
- **Akcja**: **Natychmiastowa** (automated shutdown + manual intervention)

**P2 (High)** â€” ZnaczÄ…ca utrata produkcji lub ryzyko uszkodzenia sprzÄ™tu:
- **Production**: Inverter trip, grid disconnect, low PR/CF
- **Equipment damage**: High vibrations (wind), overtemperature (BESS), low biogas quality
- **Akcja**: **Szybka diagnoza i interwencja** (w ciÄ…gu 1 h)

**P3 (Medium)** â€” Drobne problemy, potencjalna degradacja:
- **Performance**: String underperformance (PV), minor OEE drop (biogas)
- **Maintenance**: Sensor drift detected, comm loss (non-critical device)
- **Akcja**: **Planowana interwencja** (w ciÄ…gu doby, moÅ¼e poczekaÄ‡ do business hours)

**P4 (Low/Info)** â€” Informacyjne, brak immediate impact:
- **Notifications**: Scheduled maintenance reminder, report generated
- **Warnings**: Calibration due, disk space 70% (nie krytyczne jeszcze)
- **Akcja**: **Notka do weekly review**

:::tip Zasada przypisania priorytetu
Zadaj 3 pytania:
1. **Safety risk?** â†’ P1
2. **Significant revenue loss (> â‚¬1000/h)?** â†’ P2
3. **Minor issue, can wait 24h?** â†’ P3
4. **Just FYI?** â†’ P4

JeÅ›li wÄ…tpliwoÅ›ci miÄ™dzy P2 a P3: Start with P2, later downgrade based on actual response patterns.
:::

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 8 minut

**Przebieg**:
1. Tabela priorytetÃ³w (4 min)â€”wyÅ›wietl na slajdzie, omÃ³w kaÅ¼dy poziom
2. Kryteria przypisania (3 min)
3. PrzykÅ‚ady: Sklasyfikuj kilka alarmÃ³w (1 min)â€”interaktywnie z salÄ…

**Punkty kluczowe**:
- **P1 = rare**: JeÅ›li masz > 1 P1 alarm/tydzieÅ„, coÅ› jest Åºle skonfigurowane (za niskie progi lub real problem w instalacji)
- **P2 = actionable**: To gÅ‚Ã³wny poziom dla operational alarms
- **P4 â‰  spam**: P4 to valid notifications, ale nie powinny przeszkadzaÄ‡ (email digest, nie SMS)

**Pytania studenckie**:
- Q: Czy moÅ¼emy mieÄ‡ wiÄ™cej niÅ¼ 4 poziomy (np. P1, P2, P3a, P3b, P4)?
- A: MoÅ¼na, ale **nie rekomendowane**. > 4 poziomy = confusion (operator nie pamiÄ™ta rÃ³Å¼nicy miÄ™dzy P3a a P3b). ISA-18.2 explicitly recommends 3â€“4 levels max.

- Q: Kto decyduje o priority dla kaÅ¼dego alarmu?
- A: **Process owner + Alarm engineer** (podczas alarm rationalization). Dla OZE: Typically O&M manager + Controls engineer. Review priorities co 6â€“12 miesiÄ™cy (based on actual response patterns).

</details>

---

## Techniki minimalizacji faÅ‚szywych alarmÃ³w

**False positives** (faÅ‚szywe alarmy) to gÅ‚Ã³wna przyczyna alarm fatigue. Nawet najlepiej zaprojektowana reguÅ‚a alarmowa moÅ¼e generowaÄ‡ false positives z powodu **szumu pomiarowego**, **zmiennoÅ›ci procesu** lub **zdarzeÅ„ przejÅ›ciowych**.

### 1. Histereza (Hysteresis)

**Problem**: WartoÅ›Ä‡ oscyluje wokÃ³Å‚ progu â†’ alarm wÅ‚Ä…cza/wyÅ‚Ä…cza siÄ™ wielokrotnie (chattering).

**PrzykÅ‚ad**: Temperatura BESS = 59.8Â°C, prÃ³g alarmu = 60Â°C. Temperatura oscyluje 59.7â€“60.1Â°C â†’ alarm triggeruje 10Ã— w ciÄ…gu 5 minut.

**RozwiÄ…zanie**: **Histereza** = rÃ³Å¼nica miÄ™dzy progiem wÅ‚Ä…czenia (trigger) a wyÅ‚Ä…czenia (clear).

```
Trigger: T > 60Â°C
Clear: T < 58Â°C (histereza 2Â°C)
```

**Rezultat**: Alarm wÅ‚Ä…cza siÄ™ przy 60Â°C, ale wyÅ‚Ä…cza dopiero gdy T spada < 58Â°C â†’ eliminuje chattering.

**Typowe wartoÅ›ci histerezy**:
- Temperatura: 2â€“5Â°C
- NapiÄ™cia: 2â€“5% wartoÅ›ci nominalnej
- PrÄ…dy: 5â€“10%
- KPI (PR, CF): 2â€“5 punktÃ³w procentowych

### 2. UÅ›rednianie / Filtracja (Averaging / Filtering)

**Problem**: KrÃ³tkotrwaÅ‚e szpilki (spikes) w danych â†’ faÅ‚szywe alarmy.

**PrzykÅ‚ad**: Irradiancja POA chwilowo spada do 150 W/mÂ² (przejÅ›cie chmury, 10 s), prÃ³g alarmu "low irradiance" = 200 W/mÂ².

**RozwiÄ…zanie**: UÅ›rednianie w oknie czasowym (moving average).

```
Trigger: AVG(G_POA, 5 min) < 200 W/mÂ² ANDæŒç»­ > 10 min
```

**Rezultat**: KrÃ³tkie spikes ignorowane, alarm tylko gdy niskie G przez dÅ‚uÅ¼szy czas.

**Typowe okna uÅ›redniania**:
- Szybko zmienne (irradiance, wind speed): 1â€“5 min
- Wolno zmienne (temperature, PR): 10â€“30 min
- KPI (Availability, OEE): 1â€“24 h

### 3. Dead-band (pasmo martwe)

**Problem**: MaÅ‚e zmiany (< measurement accuracy) generujÄ… alarmy.

**PrzykÅ‚ad**: Sensor temperatury ma accuracy Â±0.5Â°C. Alarm "temperature changed > 0.3Â°C" triggeruje na szumie.

**RozwiÄ…zanie**: **Dead-band** = ignoruj zmiany < threshold.

```
Trigger: Î”T > 2Â°C (dead-band = 2Â°C, > 4Ã— sensor accuracy)
```

### 4. Progi adaptacyjne (Adaptive Thresholds)

**Problem**: Progi statyczne nie uwzglÄ™dniajÄ… zmiennoÅ›ci kontekstu (pora dnia, sezon, warunki pogodowe).

**PrzykÅ‚ad (PV)**: Alarm "PR < 0.80" triggeruje nocÄ… (PR = 0%, bo brak sÅ‚oÅ„ca) â†’ faÅ‚szywy alarm.

**RozwiÄ…zanie**: **Conditional threshold** (prÃ³g z warunkiem).

```
Trigger: PR < 0.80 AND G_POA > 400 W/mÂ² AND Time: 08:00â€“18:00
```

**Zaawansowane**: **Dynamic threshold** (bazuje na historii).

```
Trigger: PR < (PR_avg_last_30_days - 2Ã—Ïƒ)
```

(UÅ¼yj Å›redniÄ… z ostatnich 30 dni minus 2 odchylenia standardowe â†’ prÃ³g adaptuje siÄ™ do sezonowoÅ›ci.)

### 5. Suppression (TÅ‚umienie kaskadowe)

**Problem**: Jedna awaria triggeruje wiele powiÄ…zanych alarmÃ³w (alarm flood).

**PrzykÅ‚ad (BESS)**: Cell imbalance â†’ 10 cel ma alarm "high voltage" + system alarm "rack imbalance" + BMS alarm "balancing failure" â†’ 12 alarmÃ³w z jednego ÅºrÃ³dÅ‚a.

**RozwiÄ…zanie**: **Suppression logic** = jeÅ›li alarm root cause jest aktywny, suppress powiÄ…zane alarmy.

```
IF Alarm["Rack-03: Cell imbalance"] == ACTIVE:
    SUPPRESS Alarm["Cell-42: High voltage"]
    SUPPRESS Alarm["Cell-43: High voltage"]
    ...
```

**Rezultat**: Operator widzi 1 alarm (root cause), nie 12 (symptoms).

**Implementacja**: **Cause-&-Effect Matrix** (matryca przyczynowo-skutkowa) definiuje relacje miÄ™dzy alarmami.

<Example title="Histereza w praktyce: Farma PV, alarm 'Low PR'">
**ReguÅ‚a bez histerezy**:
```
Trigger: PR_15min < 0.78
Clear: PR_15min >= 0.78
```

**Obserwacja**: PR oscyluje 0.77â€“0.79 przez 2 h (chmury przechodzÄ…ce) â†’ alarm triggeruje 15Ã— (chattering). Operator ignoruje (alarm fatigue).

**ReguÅ‚a z histerezÄ…**:
```
Trigger: PR_15min < 0.78 ANDæŒç»­ > 30 min
Clear: PR_15min > 0.82 (histereza 4 pp) OR G_POA < 200 W/mÂ² (sÅ‚abe sÅ‚oÅ„ce, disable alarm)
```

**Rezultat**: Alarm triggeruje tylko gdy PR rzeczywiÅ›cie niska (< 0.78) przez > 30 min, wyÅ‚Ä…cza siÄ™ gdy PR odzyskuje do > 0.82 â†’ 1 alarm zamiast 15. Operator reaguje (bo wie, Å¼e to real issue).
</Example>

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 12 minut

**Przebieg**:
1. PrzeglÄ…d 5 technik (8 min, po ~1.5 min kaÅ¼da)
2. PrzykÅ‚ad histerezy (3 min)
3. Pytanie: "KtÃ³ra technika jest najwaÅ¼niejsza?" (1 min)â€”dyskusja (odpowiedÅº: Kombinacja! Å»adna pojedyncza technika nie rozwiÄ…zuje wszystkiego)

**Punkty kluczowe**:
- **Histereza = must have**: Dla kaÅ¼dego progu analogowego (temp, voltage, current)
- **Adaptive thresholds = advanced**: Wymaga historii danych i modeli, ale bardzo effective dla KPI (PR, CF)
- **Suppression = kluczowe dla safety-critical**: W BESS, biogasâ€”gdzie jedna awaria moÅ¼e wygenerowaÄ‡ dziesiÄ…tki alarmÃ³w

**Pytania studenckie**:
- Q: Jak dobraÄ‡ wartoÅ›Ä‡ histerezy?
- A: **Rule of thumb**: Histereza = 2â€“5Ã— typical noise / variability. Dla temperatury: 2Â°C (wiÄ™kszoÅ›Ä‡ czujnikÃ³w ma noise < 0.5Â°C). Dla PR: 3â€“5 pp (PR ma natural variance ~2 pp day-to-day).

- Q: Czy moÅ¼emy mieÄ‡ zbyt duÅ¼Ä… histerezÄ™?
- A: Tak! JeÅ›li histereza = 20Â°C (dla temp 60Â°C trigger), alarm wyÅ‚Ä…czy siÄ™ dopiero przy 40Â°Câ€”moÅ¼e byÄ‡ za pÃ³Åºno (problem juÅ¼ ustÄ…piÅ‚, ale equipment damaged). Balance: WystarczajÄ…co duÅ¼a, by eliminate chattering, ale nie tak duÅ¼a, by mask real issues.

</details>

---

## Projektowanie reguÅ‚ alarmowych

**Dobra reguÅ‚a alarmowa** to wiÄ™cej niÅ¼ tylko threshold. To **kompletna specyfikacja**: warunek, akcja, eskalacja, dokumentacja.

### Szablon reguÅ‚y alarmowej

```yaml
Alarm_ID: PV_LOW_PR_001
Nazwa: "Low Performance Ratio w warunkach wysokiej irradiancji"
Priorytet: P2 (High)
Technologia: PV

Warunek_Trigger:
  - PR_30min < 0.78
  - G_POA_avg > 400 W/mÂ²
  - Time: 08:00â€“18:00 (tylko dzieÅ„)
  -æŒç»­: > 30 min (eliminacja false positives)

Warunek_Clear:
  - PR_30min > 0.82 (histereza 4 pp)
  - OR G_POA_avg < 200 W/mÂ² (noc/sÅ‚abe Å›wiatÅ‚o)

Akcja:
  - Notify: O&M operator (email + SCADA popup)
  - Create_CMMS_ticket: "Low PRâ€”investigate soiling/shading/string issues"
  - Log: Event log z kontekstem (PR value, G_POA, timestamp, inverters status)

Eskalacja:
  - IF no_acknowledgement after 60 min: SMS to O&M manager
  - IF PR < 0.70 (severe): Upgrade to P1, SMS immediately

Dokumentacja:
  - MoÅ¼liwe_przyczyny: Soiling, shading, string failures, inverter clipping
  - Typowa_akcja: Check weather (rain recent?), inspect modules (dirt?), review string currents
  - Oczekiwany_response_time: Acknowledge < 1 h, diagnoza < 4 h, action plan < 24 h

Audyt:
  - Created: 2024-01-15
  - Last_review: 2024-10-01
  - Trigger_rate: 2.3 alarms/month (acceptable, target < 5)
  - False_positive_rate: 12% (target < 20%)
```

### Typy reguÅ‚

**1. Threshold alarms** (progi)

NajczÄ™stszy typ: wartoÅ›Ä‡ przekracza threshold.

```
Trigger: Temperature_BESS > 60Â°C
```

**2. Rate-of-change alarms** (tempo zmian)

Alarm na szybkie zmiany (czÄ™sto oznacza problem).

```
Trigger: dT/dt > 5Â°C/min (BESS thermal runaway indicator)
```

**3. Deviation alarms** (odchylenia)

Alarm gdy wartoÅ›Ä‡ odbiega od expected/normal.

```
Trigger: |CF_turbine_05 - CF_avg_farm| > 15% (turbina underperforms vs. reszta farmy)
```

**4. Correlation alarms** (korelacje)

Alarm gdy dwa parametry razem wskazujÄ… problem.

```
Trigger: Vibration_gearbox > 12 mm/s AND Temperature_bearing > 85Â°C
(korelacja: High vibration + high temp = bearing failure imminent)
```

**5. Time-based alarms** (czas)

Alarm po upÅ‚ywie czasu bez zmiany stanu.

```
Trigger: Inverter_status == "Fault" FOR > 2 h
(Inverter w fault state przez > 2 h = wymaga interwencji, nie auto-recovery)
```

### Cause-&-Effect Matrix (Matryca przyczynowo-skutkowa)

Dla zÅ‚oÅ¼onych systemÃ³w (BESS, biogaz), **C&E Matrix** definiuje relacje miÄ™dzy alarmami i akcjami.

| Przyczyna (Cause) | Skutek 1 (Effect) | Skutek 2 | Akcja automatyczna | Akcja manualna |
|-------------------|-------------------|----------|---------------------|----------------|
| BESS: Cell temp > 70Â°C | Rack alarm | System shutdown trigger | Stop charging/discharging | Inspect cooling system |
| Biogas: Hâ‚‚S > 1000 ppm | CHP alarm | Emergency shutdown | Close gas valves, activate ventilation | Evacuate area, call fire dept |
| Wind: Gearbox vibration > 15 mm/s | High temp bearing | Turbine stop | Stop turbine, lock rotor | Schedule gearbox inspection |

**Implementacja**: W SCADA (ladder logic PLC) lub w alarm management software (Ignition, WinCC).

<Example title="ReguÅ‚a korelacyjna: Wczesna detekcja awarii Å‚oÅ¼yska (wiatr)">
**Symptomy**:
1. Wzrost wibracji w paÅ›mie 1200â€“1400 Hz (BPFO bearing #42)
2. Wzrost temperatury Å‚oÅ¼yska o > 10Â°C w ciÄ…gu tygodnia

**Pojedyncze alarmy** (za pÃ³Åºno lub false positives):
- Alarm "High vibration" (threshold 15 mm/s) triggeruje dopiero gdy damage zaawansowany
- Alarm "High temperature" (threshold 85Â°C) ma false positives (hot day, normal)

**ReguÅ‚a korelacyjna** (wczesna detekcja):
```yaml
Alarm_ID: WIND_BEARING_FAILURE_EARLY
Priorytet: P2

Warunek:
  - Vibration_RMS_1200_1400_Hz > 8 mm/s (50% below critical threshold, early warning)
  - AND Temperature_bearing_42 > (T_baseline + 10Â°C)
  - AND Trend(Temperature_bearing_42, 7 days) > +2Â°C/day

Akcja:
  - Notify: Maintenance team (email)
  - Schedule: Inspection during next maintenance window (< 2 weeks)
  - Monitor: Increase vibration sampling to 1/day (from 1/week)

Oczekiwany_benefit: 
  - Early detection (2â€“3 months before catastrophic failure)
  - Planned maintenance (â‚¬30k) vs. unplanned gearbox replacement (â‚¬300k)
```

**Rezultat**: 3 miesiÄ…ce wczeÅ›niejsza detekcja â†’ wymiana Å‚oÅ¼yska planowana (nie emergency), oszczÄ™dnoÅ›Ä‡ â‚¬270k.
</Example>

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 14 minut

**Przebieg**:
1. Szablon reguÅ‚y alarmowej (4 min)â€”pokaÅ¼ na slajdzie, omÃ³w kaÅ¼dÄ… sekcjÄ™
2. Typy reguÅ‚ (5 min)
3. Cause-&-Effect Matrix (2 min)
4. PrzykÅ‚ad reguÅ‚y korelacyjnej (3 min)

**Punkty kluczowe**:
- **Documentation is key**: KaÅ¼da reguÅ‚a musi mieÄ‡ dokumentacjÄ™ (moÅ¼liwe przyczyny, typowa akcja). Bez tego, operator nie wie, co zrobiÄ‡.
- **Correlation alarms = advanced, ale powerful**: WymagajÄ… domain knowledge (jakie parametry sÄ… skorelowane), ale dajÄ… early warning
- **C&E Matrix = mandatory dla safety-critical**: W BESS, biogasâ€”gdzie automated shutdowns are required

**Pytania studenckie**:
- Q: Jak testowaÄ‡ reguÅ‚y alarmowe przed wdroÅ¼eniem?
- A: (1) **Simulation**: Replay historical data, see how many alarms would trigger (false positive rate?). (2) **Shadow mode**: Deploy rule, log would-be alarms, but don't notify operatorsâ€”review after 1 week. (3) **Pilot**: Deploy to 1 farm in portfolio, monitor for 1 month, then roll out to all.

- Q: Ile reguÅ‚ alarmowych powinno byÄ‡ w typowej farmie OZE?
- A: **Target**: 50â€“150 unique alarm types (dla 1â€“10 MW instalacji). **Red flag**: > 500 alarm types = too granular (alarm overload). **Balance**: Cover all critical + important scenarios, ale don't alarm on every minor deviation.

</details>

---

## Eskalacja i workflow

**Eskalacja** to proces przekazywania alarmu do wyÅ¼szych poziomÃ³w odpowiedzialnoÅ›ci, gdy nie ma reakcji na niÅ¼szym poziomie. Kluczowe dla **bezobsÅ‚ugowych** instalacji OZE.

### ÅšcieÅ¼ki eskalacji

Typowa Å›cieÅ¼ka eskalacji (3-tier):

```mermaid
graph TD
    A[Alarm triggeruje] --> B{Priorytet?}
    B -->|P1 Critical| C[SMS do dyÅ¼urnego<br/>+ O&M manager<br/>NATYCHMIAST]
    B -->|P2 High| D[Email + SCADA popup<br/>do operatora]
    B -->|P3/P4| E[Email digest<br/>codziennie 8:00]
    
    D --> F{Acknowledged<br/>< 60 min?}
    F -->|Tak| G[Operator assigned<br/>monitoruje]
    F -->|Nie| H[Eskalacja L2:<br/>SMS do O&M manager]
    
    H --> I{Acknowledged<br/>< 30 min?}
    I -->|Tak| J[Manager coordinates<br/>response]
    I -->|Nie| K[Eskalacja L3:<br/>SMS do Director<br/>+ on-call technician]
    
    C --> L[Automated shutdown<br/>jeÅ›li safety-critical]
    L --> M[Manual intervention<br/>required]
```

### Przypisanie do rÃ³l (Role-based Escalation)

**Nie eskaluj do konkretnych osÃ³b** (John, Mary)â€”eskaluj do **rÃ³l** (Operator, Manager). Osoby rotujÄ…, role sÄ… staÅ‚e.

| Rola | Zakres odpowiedzialnoÅ›ci | Kontakt | Czas reakcji |
|------|--------------------------|---------|--------------|
| **Operator (L1)** | P2, P3 alarms, routine monitoring | Email, SCADA | < 1 h (P2), < 24 h (P3) |
| **O&M Manager (L2)** | P1 alarms, eskalacje z L1 | SMS + Phone | < 15 min (P1), < 1 h (P2 escalated) |
| **On-call Technician** | Field interventions | SMS + Phone | < 4 h (on-site arrival) |
| **Director / Asset Owner (L3)** | Critical incidents, regulatory | Phone | < 1 h (awareness), decisions as needed |

**Rotacja dyÅ¼urÃ³w**: L2 (Manager) i On-call Technician rotujÄ… co tydzieÅ„ (duty roster). System automatycznie uÅ¼ywa aktualnego dyÅ¼urnego z roster.

### KanaÅ‚y komunikacji

| KanaÅ‚ | Kiedy uÅ¼ywaÄ‡ | Pros | Cons |
|-------|--------------|------|------|
| **SCADA popup** | P2, P3, P4 | Centralized, context-rich | Wymaga operatora przy SCADA |
| **Email** | P2, P3, P4 | Dokumentacja, attachments | Nie real-time, moÅ¼e byÄ‡ zignorowany |
| **SMS** | P1, eskalacje P2 | Fast, direct, mobile | Limit 160 znakÃ³w, moÅ¼e byÄ‡ expensive |
| **Phone call** (automated) | P1 critical | Guaranteed attention | Annoying if false positive, moÅ¼e nie odebraÄ‡ |
| **Mobile app** (push notification) | P1, P2 | Modern, rich content, acknowledged | Wymaga app install, battery drain |

**Best practice**: **Multi-channel dla P1** (SMS + Phone + push notification), **email dla P3/P4** (non-urgent).

### Acknowledgement i closure

**Alarm lifecycle**:

1. **Triggered** (alarm aktywny)
2. **Acknowledged** (operator potwierdziÅ‚, rozumie, bÄ™dzie dziaÅ‚aÅ‚)
3. **In Progress** (akcja w tokuâ€”diagnoza, repair dispatched)
4. **Resolved** (problem rozwiÄ…zany)
5. **Closed** (alarm cleared, dokumentacja zaktualizowana)

**Metrics**:
- **MTTA** (Mean Time To Acknowledge): Åšredni czas od trigger do acknowledgement
  - Target: < 15 min (P1), < 1 h (P2)
- **MTTR** (Mean Time To Resolve): Åšredni czas od trigger do resolved
  - Target: < 4 h (P1), < 24 h (P2)

<Example title="Eskalacja w praktyce: Farma wiatrowa, alarm 'Gearbox vibration high'">
**Scenariusz**: Turbina-05, gearbox vibration = 14 mm/s (threshold 12 mm/s), priorytet P2.

**Timeline**:
- **T+0 min**: Alarm triggeruje â†’ Email + SCADA popup do Operator (L1)
- **T+5 min**: Operator otwiera SCADA, widzi alarm, czyta dokumentacjÄ™ ("MoÅ¼liwa przyczyna: Early bearing failure")
- **T+10 min**: Operator **acknowledges** alarm w SCADA (MTTA = 10 min âœ“ < 1 h target)
- **T+15 min**: Operator sprawdza trend vibracji (last 7 days)â€”wzrost from 8 to 14 mm/s
- **T+20 min**: Operator tworzy CMMS ticket: "Turbine-05 gearbox inspectionâ€”high vibration, bearing failure suspected"
- **T+30 min**: Operator eskaluje do O&M Manager (L2): "Please schedule technician visit within 2 weeks (before reaches critical 18 mm/s)"
- **T+1 h**: Manager reviewuje, zatwierdza, schedules technician visit (za 10 dni, during next maintenance window)
- **T+10 days**: Technician on-site, inspects gearbox, confirmes bearing #42 wear, schedules replacement (za 1 miesiÄ…c, requires crane + spare bearing order)
- **T+40 days**: Bearing replaced (planned downtime 3 days), turbine back online, alarm **resolved**
- **T+41 days**: Operator closes alarm w SCADA, adds notes: "Bearing #42 replaced, vibration now 6 mm/s (normal)"

**Metrics**:
- MTTA: 10 min âœ“
- MTTR: 40 days (ale planowane, bez emergencyâ€”sukces early detection!)

**Bez eskalacji**: Alarm zignorowany â†’ vibration osiÄ…ga 18 mm/s â†’ catastrophic gearbox failure â†’ emergency repair (â‚¬300k, 3 tygodnie downtime).
</Example>

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 12 minut

**Przebieg**:
1. Diagram eskalacji (3 min)â€”pokaÅ¼ na slajdzie
2. Przypisanie do rÃ³l i kanaÅ‚y komunikacji (4 min)
3. Alarm lifecycle + metrics (2 min)
4. PrzykÅ‚ad eskalacji farmy wiatrowej (3 min)

**Punkty kluczowe**:
- **Role-based, not person-based**: System musi dziaÅ‚aÄ‡ niezaleÅ¼nie od rotacji personelu
- **Multi-channel dla P1**: Redundancja kanaÅ‚Ã³w = wyÅ¼sza pewnoÅ›Ä‡ delivery (zwÅ‚aszcza nocÄ…/weekendy)
- **MTTA i MTTR to key metrics**: Track religiously, review monthly (czy targets sÄ… met?)

**Pytania studenckie**:
- Q: Co jeÅ›li nikt nie odbiera SMS (wszyscy Å›piÄ…, telefony wyÅ‚Ä…czone)?
- A: **Backup escalation**: Po 2 nieudanych prÃ³bach (SMS + call), system eskaluje do backup on-call (second technician on roster). Ultimate fallback: Security service / facility manager (who has physical access to site for safety-critical).

- Q: Czy eskalacja kosztuje (SMS, phone calls)?
- A: Tak. SMS: â‚¬0.05â€“0.10 each, phone calls: â‚¬0.20â€“0.50/min. Dla farmy 10 MW, budget â‚¬500â€“1000/rok na alarm communications. **But**: Cost of missed P1 alarm >> cost of SMS. Never skimp on P1 notifications.

</details>

---

## Rejestrowanie i audyt skutecznoÅ›ci alarmÃ³w

**Alarm management to ciÄ…gÅ‚y proces**, nie jednorazowa konfiguracja. Systemy alarmowe wymagajÄ… **regularnego audytu** i **optymalizacji** na podstawie rzeczywistych danych o skutecznoÅ›ci.

### Co rejestrowaÄ‡?

KaÅ¼de zdarzenie alarmowe powinno byÄ‡ **zalogowane** z peÅ‚nym kontekstem:

```json
{
  "alarm_id": "PV_LOW_PR_001",
  "trigger_time": "2025-10-07T14:32:18Z",
  "clear_time": "2025-10-07T16:15:42Z",
  "duration": "1h 43min",
  "priority": "P2",
  "tag": "site-001.inverter-12",
  "trigger_value": {
    "PR_30min": 0.76,
    "G_POA_avg": 650
  },
  "acknowledged_by": "operator_john",
  "acknowledged_time": "2025-10-07T14:45:03Z",
  "MTTA": "12min 45s",
  "resolved_time": "2025-10-07T16:10:00Z",
  "MTTR": "1h 37min",
  "root_cause": "Soiling (modules dirty after 2 weeks no rain)",
  "action_taken": "Scheduled module cleaning for next week",
  "false_positive": false
}
```

### Metryki skutecznoÅ›ci alarmÃ³w

**1. Alarm rate** (czÄ™stotliwoÅ›Ä‡)

$$
\text{Alarm rate} = \frac{\text{Number of alarms}}{\text{Time period}} \quad [\text{alarms/day or alarms/h}]
$$

**Target**: < 50 alarms/day (dla instalacji > 1 MW), < 6 alarms/h/operator (ISA-18.2).

**Red flag**: > 200 alarms/day = alarm flood (konieczna rationalization).

**2. False positive rate** (FPR)

$$
FPR = \frac{\text{False positives}}{\text{Total alarms}} \times 100\%
$$

**Target**: < 20% (ISA-18.2), idealnie < 10%.

**Wysoka FPR** (> 30%) = alarm fatigue â†’ rationalize rules (increase hysteresis, add conditions).

**3. MTTA (Mean Time To Acknowledge)**

$$
MTTA = \frac{\sum (\text{acknowledged\_time} - \text{trigger\_time})}{\text{Number of alarms}}
$$

**Target**: < 15 min (P1), < 1 h (P2), < 24 h (P3).

**Wysoka MTTA** = alarms not noticed OR operators overwhelmed â†’ investigate root cause.

**4. MTTR (Mean Time To Resolve)**

$$
MTTR = \frac{\sum (\text{resolved\_time} - \text{trigger\_time})}{\text{Number of alarms}}
$$

**Target**: Varies by priority and type. P1: < 4 h, P2: < 24 h, P3: < 1 week.

**5. Precision & Recall** (z machine learning, ale aplikowalne do alarmÃ³w)

**Precision** (dokÅ‚adnoÅ›Ä‡):
$$
Precision = \frac{TP}{TP + FP} = \frac{\text{True alarms}}{\text{Total triggered alarms}}
$$

Precision = 1 - FPR. High precision = few false positives.

**Recall** (czuÅ‚oÅ›Ä‡):
$$
Recall = \frac{TP}{TP + FN} = \frac{\text{Detected problems}}{\text{Total real problems}}
$$

Recall mierzy: "Czy wykrywamy wszystkie realne problemy?" High recall = few false negatives (missed alarms).

**Trade-off**: High precision (few false positives) vs. High recall (catch all problems). Typowo, preferujemy **recall > precision** dla safety-critical (lepiej mieÄ‡ kilka false positives niÅ¼ miss real problem).

### Alarm rationalization (przeglÄ…d i optymalizacja)

**Proces** (co 6â€“12 miesiÄ™cy):

1. **Zbierz dane**: Export alarm logs (last 6 months)
2. **Analiza**:
   - Top 20 most frequent alarms (czy to sensowne? czy spam?)
   - FPR per alarm type (ktÃ³re majÄ… high FPR? â†’ adjust thresholds)
   - "Dead alarms" (never triggered w last 6 months) â†’ delete or review relevance
   - Alarms z high MTTA/MTTR â†’ investigate why (unclear documentation? operator training?)
3. **DziaÅ‚ania**:
   - **Tune thresholds**: Dla alarmÃ³w z high FPR (increase hysteresis, add conditions)
   - **Delete dead alarms**: Reduce clutter
   - **Consolidate**: Merge powiÄ…zane alarmy (suppress cascades)
   - **Update documentation**: Dla alarmÃ³w z high MTTA (operators don't know what to do)
4. **Deploy changes**: Test w shadow mode, then production
5. **Monitor**: Track metrics next 1â€“3 months, verify improvement

<Example title="Alarm rationalization: Farma PV 10 MW, Q3 2024 review">
**Dane** (Julâ€“Sep 2024):
- Total alarms: 1240 (Å›rednio 13.7/day)
- Alarm rate: OK (target < 50/day)
- Top alarm: "Inverter communication loss" (320 occurrences, 26% of total)

**Analiza "Inverter communication loss"**:
- FPR: 65% (208 false positives z 320)â€”**BARDZO WYSOKI**
- Przyczyna false positives: KrÃ³tkie przerwy w Å‚Ä…cznoÅ›ci (< 5 s) z powodu network jitter (Wi-Fi na farmie niestabilny)

**Akcja**:
```yaml
# Przed:
Trigger: Inverter_comm_status == "Lost" FOR > 10 s

# Po (tuned):
Trigger: Inverter_comm_status == "Lost" FOR > 60 s (increased from 10 s)
Clear: Inverter_comm_status == "OK" FOR > 30 s (added hysteresis)
```

**Rezultat** (Oct 2024, 1 miesiÄ…c po zmianie):
- "Inverter communication loss" alarms: 45 occurrences (z 320 â†’ 45, redukcja 86%)
- FPR: 18% (z 65% â†’ 18%, significant improvement)
- MTTA: Improved from 45 min to 12 min (operators now react faster, bo wiedzÄ…, Å¼e alarm is real)

**Dodatkowe akcje**:
- Deleted 12 "dead alarms" (never triggered in 6 months)
- Consolidated 3 "low SoH" alarms (BESS) into 1 (were redundant, different thresholds)
- Updated documentation for 8 alarms (added "typical action" section)

**Overall impact**:
- Alarm rate: 13.7/day â†’ 8.2/day (redukcja 40%)
- Overall FPR: 28% â†’ 15% (improvement)
- Operator satisfaction: Anecdotally higher ("alarms are more meaningful now")
</Example>

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 10 minut

**Przebieg**:
1. Co rejestrowaÄ‡ (2 min)â€”pokaÅ¼ przykÅ‚ad JSON log
2. Metryki skutecznoÅ›ci (4 min)
3. Alarm rationalization process (2 min)
4. PrzykÅ‚ad rationalization (2 min)

**Punkty kluczowe**:
- **Logging is mandatory**: Bez logÃ³w, nie moÅ¼esz improve. Ensure alarm logs sÄ… retained (min 1 year).
- **Metrics drive improvement**: "You can't improve what you don't measure"â€”track FPR, MTTA, MTTR religiously
- **Rationalization is continuous**: Co 6â€“12 miesiÄ™cy, inaczej alarm system degrades over time (drift w thresholds, new equipment, changed processes)

**Pytania studenckie**:
- Q: Kto powinien prowadziÄ‡ alarm rationalization?
- A: **Team effort**: (1) Alarm engineer (lead), (2) Operators (input on what alarms are useful/annoying), (3) Process/Controls engineers (domain knowledge), (4) Management (approve changes, priorities). Typically 2â€“4 osoby, 2â€“3 dni pracy (dla rationalization session).

- Q: Co z alarmami, ktÃ³re triggerujÄ… rzadko (< 1/miesiÄ…c), ale sÄ… critical?
- A: **Keep them!** Low frequency â‰  low importance. P1 alarms (safety-critical) mogÄ… triggerowaÄ‡ raz na rok, ale must remain (i muszÄ… byÄ‡ testedâ€”periodic alarm testing, e.g. simulated fire alarm co 6 miesiÄ™cy).

</details>

---

## Podsumowanie: Checklist dobrego systemu alarmowego

âœ… **Priorytetyzacja**: 4 poziomy (P1â€“P4), jasne kryteria przypisania  
âœ… **Minimalizacja false positives**: Histereza, uÅ›rednianie, adaptive thresholds, suppression  
âœ… **Dokumentacja reguÅ‚**: KaÅ¼da reguÅ‚a ma opis, moÅ¼liwe przyczyny, typowÄ… akcjÄ™  
âœ… **Eskalacja**: Role-based, multi-tier, multi-channel (email/SMS/phone)  
âœ… **Logging**: PeÅ‚ny kontekst kaÅ¼dego alarmu (trigger time, values, acknowledged by, resolved, root cause)  
âœ… **Metryki**: Track alarm rate, FPR, MTTA, MTTRâ€”review monthly  
âœ… **Rationalization**: Co 6â€“12 miesiÄ™cyâ€”tune thresholds, delete dead alarms, update documentation  
âœ… **Operator training**: Operatorzy wiedzÄ…, co oznaczajÄ… alarmy i co robiÄ‡ w odpowiedzi

**Dobry system alarmowy** to system, w ktÃ³rym:
- Operatorzy **ufajÄ…** alarmom (bo niski FPR)
- Operatorzy **reagujÄ… szybko** (bo dokumentacja jasna)
- Problemy **wykrywane wczeÅ›nie** (przed catastrophic failures)
- System **ewoluuje** z czasem (rationalization)

W nastÄ™pnej sekcji (**Podsumowanie W1**) zintegrujemy wszystkie omÃ³wione tematy: architektura, KPI, alarmyâ€”w caÅ‚oÅ›ciowÄ… wizjÄ™ systemu monitoringu OZE.


