---
title: "Typy danych i ÅºrÃ³dÅ‚a"
sidebar_position: 3
---

import { LearningObjective, KeyConcept, Example } from '@site/src/components/SlideComponents';
import InteractiveQuiz from '@site/src/components/InteractiveQuiz';

# Typy danych i ÅºrÃ³dÅ‚a

<LearningObjective>
Po tej sekcji student rozrÃ³Å¼nia typy danych w monitoringu OZE (ciÄ…gÅ‚e, zdarzeniowe, metadane), identyfikuje gÅ‚Ã³wne ÅºrÃ³dÅ‚a danych dla rÃ³Å¼nych technologii (PV, wiatr, BESS, biogaz) i rozumie znaczenie jakoÅ›ci oraz spÃ³jnoÅ›ci danych dla efektywnego monitoringu.
</LearningObjective>

## Wprowadzenie: Taksonomia danych w monitoringu OZE

Systemy monitoringu instalacji OZE generujÄ… **ogromne iloÅ›ci danych** o rÃ³Å¼nych charakterystykach. Zrozumienie **typÃ³w danych** i ich **ÅºrÃ³deÅ‚** jest kluczowe dla zaprojektowania efektywnego systemu akwizycji, przetwarzania i analizy.

W tej sekcji klasyfikujemy dane wedÅ‚ug **trzech gÅ‚Ã³wnych kategorii**:
1. **Dane ciÄ…gÅ‚e (czasoszeregowe)**: Pomiary fizyczne prÃ³bkowane regularnie
2. **Zdarzenia i stany**: Dyskretne zmiany (alarmy, przeÅ‚Ä…czenia)
3. **Metadane**: Informacje o konfiguracji i kontekÅ›cie

Dla kaÅ¼dej kategorii omÃ³wimy **typowe ÅºrÃ³dÅ‚a**, **czÄ™stotliwoÅ›ci prÃ³bkowania**, **wymagania dotyczÄ…ce jakoÅ›ci** oraz **przykÅ‚ady zastosowaÅ„**.

<KeyConcept title="Dane vs. Informacja vs. Wiedza">
**Dane** to surowe pomiary (np. prÄ…d string PV = 8.2 A).  
**Informacja** to dane w kontekÅ›cie (np. prÄ…d string jest o 15% niÅ¼szy niÅ¼ oczekiwany przy tej irradiancji).  
**Wiedza** to informacja z akcjÄ… (np. string wymaga inspekcji termowizyjnejâ€”prawdopodobna degradacja poÅ‚Ä…czenia).  

Monitoring transformuje **dane â†’ informacjÄ™ â†’ wiedzÄ™** przez kolejne warstwy przetwarzania (edge â†’ fog â†’ cloud).
</KeyConcept>

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 6 minut

**Przebieg**:
1. Wprowadzenie do taksonomii danych (2 min)
2. OmÃ³wienie piramidy "Dane â†’ Informacja â†’ Wiedza" (2 min)
3. Pytanie do sali: "Dlaczego nie moÅ¼emy monitorowaÄ‡ wszystkiego z maksymalnÄ… czÄ™stotliwoÅ›ciÄ…?" (2 min)

**Punkty kluczowe**:
- **Volume vs. Value**: WiÄ™cej danych â‰  lepsza analiza. Kluczowe sÄ… **dane wÅ‚aÅ›ciwe** (relevance) i **jakoÅ›Ä‡**
- **Piramida wiedzy**: Monitoring to nie tylko zbieranieâ€”to transformacja do actionable insights
- **Trade-off**: Wysoka czÄ™stotliwoÅ›Ä‡ = wyÅ¼sze koszty (storage, bandwidth, processing). Trzeba balansowaÄ‡.

**Pytania studenckie**:
- Q: Jaka jest typowa objÄ™toÅ›Ä‡ danych z farmy PV 1 MW?
- A: ~10â€“50 MB/dzieÅ„ (przy samplingiem 1-min, ~100 tagÃ³w). Farma wiatrowa (wÅ‚Ä…czajÄ…c CMS): ~1â€“5 GB/dzieÅ„. BESS z monitoringiem cell-level: ~100â€“500 MB/dzieÅ„.

</details>

---

## Typy danych: SzczegÃ³Å‚owa klasyfikacja

### 1. Dane ciÄ…gÅ‚e (Time-Series Data)

**Definicja**: Pomiary parametrÃ³w fizycznych, prÃ³bkowane w **regularnych odstÄ™pach czasu** (time-stamped samples). To gÅ‚Ã³wna kategoria danych w OZE (~95% objÄ™toÅ›ci).

#### Charakterystyka

| Aspekt | Opis |
|--------|------|
| **CzÄ™stotliwoÅ›Ä‡** | 0.1 Hz (co 10 s) do 50 kHz (analiza widmowa drgaÅ„) |
| **ObjÄ™toÅ›Ä‡** | NajwiÄ™ksza (terabajty/rok dla duÅ¼ych farm) |
| **SkÅ‚adowanie** | Time-Series Database (TSDB): InfluxDB, TimescaleDB, OSIsoft PI |
| **Operacje** | Agregacje (avg, min, max), downsampling, interpolacja, wykrywanie trendÃ³w |

#### PrzykÅ‚ady parametrÃ³w

**Elektryczne**:
- NapiÄ™cia (V): AC (grid-side), DC (string-level w PV, cela w BESS)
- PrÄ…dy (A): AC (output inverterÃ³w), DC (stringi PV, cela BESS)
- Moce (W, kW): Aktywna (P), bierna (Q), pozorna (S)
- Energia (Wh, kWh):ç´¯ç©liczniki (cumulative counters)
- CzÄ™stotliwoÅ›Ä‡ (Hz): Grid frequency (waÅ¼ne dla regulation services)
- Power Factor (cos Ï†)

**Termiczne**:
- Temperatury moduÅ‚Ã³w PV (Â°C): Back-of-module, junction temp (obliczana)
- Temperatury pakietÃ³w BESS (Â°C): Cell temp, coolant temp
- Temperatury otoczenia (Â°C): Ambient, inside cabinet/container
- Temperatury Å‚oÅ¼ysk/przekÅ‚adni (Â°C): W turbinach wiatrowych

**Mechaniczne**:
- Wibracje (g, m/sÂ²): Akcelerometry w turbinach (CMSâ€”Condition Monitoring System)
- Obroty (RPM): Rotor turbiny, generatory
- Pozycje (Â°): Yaw (obrÃ³t gondoli), pitch (kÄ…t Å‚opatek)

**Åšrodowiskowe**:
- Irradiancja (W/mÂ²): POA (Plane of Array), GHI (Global Horizontal), DNI/DHI (bezpoÅ›rednia/rozproszona)
- PrÄ™dkoÅ›Ä‡ wiatru (m/s): Anemometry na rÃ³Å¼nych wysokoÅ›ciach
- Kierunek wiatru (Â°): Wind vane
- WilgotnoÅ›Ä‡ (%RH), ciÅ›nienie (hPa), opady (mm/h)
- StÄ™Å¼enia gazÃ³w (ppm, %): CHâ‚„, COâ‚‚, Hâ‚‚S, Hâ‚‚ (biogazownie, safety monitoring)

#### Wymagania dotyczÄ…ce czÄ™stotliwoÅ›ci prÃ³bkowania

Zasada **Nyquista**: Aby odtworzyÄ‡ sygnaÅ‚ o czÄ™stotliwoÅ›ci $f_{\max}$, czÄ™stotliwoÅ›Ä‡ prÃ³bkowania musi wynosiÄ‡ $f_s \geq 2 f_{\max}$. W praktyce, uÅ¼ywamy **5â€“10Ã— nadprÃ³bkowania** dla komfortu (headroom dla filtracji).

| Parametr | Charakterystyka zmian | Typowa czÄ™stotliwoÅ›Ä‡ | Uzasadnienie |
|----------|------------------------|----------------------|---------------|
| Irradiancja POA | Szybka (chmury) | 1â€“10 Hz | Zmiany < 1 s podczas przejÅ›cia chmury, waÅ¼ne dla MPPT inverterÃ³w |
| Moc AC (PV) | Åšrednia | 0.1â€“1 Hz (co 1â€“10 s) | Zmienia siÄ™ z irradiacjÄ…, 10-s sampling wystarczajÄ…cy dla PR calculations |
| Temperatura moduÅ‚u | Wolna | 0.01â€“0.1 Hz (co 10â€“100 s) | StaÅ‚a czasowa termiczna moduÅ‚u: ~10â€“20 min |
| NapiÄ™cie cell BESS | Szybka (charging) | 1 Hz | Monitoring balansowania, detekcja problemÃ³w z celami |
| Wibracje Å‚oÅ¼ysk | Bardzo szybka | 10â€“50 kHz | Analiza widmowa (FFT) wymaga sampling > 20 kHz dla detekcji do 10 kHz |
| StÄ™Å¼enie CHâ‚„ | Åšrednia | 0.1â€“1 Hz | Safety-critical, ale gaz dyfunduje w sekundach (nie milisekundach) |

:::caution PuÅ‚apka over-sampling
**Nie prÃ³bkuj szybciej niÅ¼ potrzeba!** Sampling 1 kHz temperatury moduÅ‚u (ktÃ³ra zmienia siÄ™ w minutach) to marnotrawstwo bandwidth i storage. Rezultat: System zahukany, a jakoÅ›Ä‡ analiz nie lepsza. **Dopasuj czÄ™stotliwoÅ›Ä‡ do fizyki procesu.**
:::

<Example title="CzÄ™stotliwoÅ›ci prÃ³bkowania: Farma PV 10 MW">
**Konfiguracja**:
- 40 inverterÃ³w, 1000 stringÃ³w, 30 000 moduÅ‚Ã³w
- 5 weather stations (pyranometry, temp sensors)

**Sampling rates**:
1. **Invertery** (40 devices, po 20 tagÃ³w = 800 tagÃ³w total):
   - Moc AC/DC, napiÄ™cia, prÄ…dy: **10 s** (0.1 Hz) â†’ 8 samples/s total
   - Energiaç´¯ç© (counters): **1 min** â†’ nie wpÅ‚ywa na bandwidth (rzadko)
   - Temperatury radiatorÃ³w: **1 min** â†’ 0.67 samples/s

2. **String monitoring** (1000 stringÃ³w, po 2 tagi = 2000 tagÃ³w):
   - PrÄ…d DC, napiÄ™cie DC: **1 min** â†’ 33 samples/s total

3. **Weather stations** (5 stations, po 10 tagÃ³w = 50 tagÃ³w):
   - Irradiancja POA, GHI, temp ambient/module: **1 s** (1 Hz) â†’ 50 samples/s

**Total bandwidth**: ~92 samples/s â†’ przy 8 bytes/sample (float64 + timestamp) = **736 bytes/s = 5.9 kB/s = 510 MB/dzieÅ„**. Bardzo niewiele!

**Dla porÃ³wnania**: GdybyÅ›my samplingowali wszystko z 1 Hz (max), byÅ‚oby to **2850 samples/s = 2.5 GB/dzieÅ„** (5Ã— wiÄ™cej, bez dodatkowej wartoÅ›ci dla wolno zmieniajÄ…cych siÄ™ parametrÃ³w).
</Example>

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 14 minut

**Przebieg**:
1. PrzeglÄ…d kategorii parametrÃ³w (elektryczne, termiczne, mechaniczne, Å›rodowiskowe)â€”5 min
2. OmÃ³wienie tabeli czÄ™stotliwoÅ›ci prÃ³bkowaniaâ€”4 min (kluczowe!)
3. PrzykÅ‚ad farmy PVâ€”3 min (pokaÅ¼ kalkulacjÄ™ bandwidth)
4. Dyskusja: "Jakie parametry wymagajÄ… najszybszego prÃ³bkowania i dlaczego?"â€”2 min

**Punkty kluczowe**:
- **Nyquist to minimum, nie target**: UÅ¼ywaj 5â€“10Ã— nadprÃ³bkowania dla pewnoÅ›ci
- **Fizyka procesu dyktuje sampling**: Temperatura zmienia siÄ™ w minutach, irradiancja w sekundach, wibracje w milisekundach
- **Bandwidth rzadko jest problemem**: Nowoczesne sieci 4G/LTE majÄ… Mbps, a dane OZE to kBps. Problem to raczej storage long-term

**Pytania studenckie**:
- Q: Czy moÅ¼emy zmieniaÄ‡ czÄ™stotliwoÅ›Ä‡ prÃ³bkowania dynamicznie (np. szybciej podczas anomalii)?
- A: Tak! To Å›wietna strategia ("adaptive sampling"). Np. normalnie 1 min, ale gdy PR spada < 0.8 â†’ zwiÄ™ksz do 10 s przez 1 h, Å¼eby zdiagnozowaÄ‡. Wymaga inteligentnego edge/fog.

- Q: Co z aliasing? Jak filtrujemy przed samplingiem?
- A: Dobrze Å¼e pytasz! KaÅ¼dy ADC (przetwornik analogowo-cyfrowy) powinien mieÄ‡ anti-aliasing filter (analog, Butterworth lub Chebyshev, cutoff < f_s/2). W praktyce, producenci czujnikÃ³w robiÄ… to za nas (wbudowane w moduÅ‚y akwizycji).

</details>

---

### 2. Zdarzenia i stany (Event & State Data)

**Definicja**: Dane **dyskretne**, ktÃ³re zmieniajÄ… siÄ™ tylko w okreÅ›lonych momentach (nie sÄ… prÃ³bkowane okresowo, lecz raportowane **on-change** lub **event-triggered**).

#### Charakterystyka

| Aspekt | Opis |
|--------|------|
| **CzÄ™stotliwoÅ›Ä‡** | Nieregularna (event-driven), od sekund do dni miÄ™dzy zdarzeniami |
| **ObjÄ™toÅ›Ä‡** | MaÅ‚a (~1â€“5% caÅ‚kowitej objÄ™toÅ›ci danych) |
| **SkÅ‚adowanie** | Event logs, relacyjne DB (PostgreSQL), TSDB (jako discrete series) |
| **Operacje** | Sequence analysis, root cause analysis, alarm statistics (MTTA, MTTR) |

#### PrzykÅ‚ady zdarzeÅ„

**Alarmy (Alarms)**:
- Przypisane priorytety (P1â€”Critical, P2â€”High, P3â€”Medium, P4â€”Low)
- Lifecycle: New â†’ Acknowledged â†’ Cleared/Resolved
- PrzykÅ‚ad: "Inverter-05: DC overvoltage (720 V, threshold 650 V)"â€”P2, Timestamp: 2025-10-07T14:32:18Z

**PrzeÅ‚Ä…czenia stanÃ³w (State Changes)**:
- ON/OFF: Inverter running, BESS charging/discharging, circuit breaker states
- Tryby pracy: MPPT mode, constant voltage mode, curtailment active
- PrzykÅ‚ad: "BESS-01: State changed from CHARGING to IDLE"â€”Timestamp: 2025-10-07T15:00:00Z

**SOE (Sequence of Events)**:
- UporzÄ…dkowana chronologicznie sekwencja zdarzeÅ„ z rozdzielczoÅ›ciÄ… < 1 ms (dla analiz zakÅ‚Ã³ceÅ„ sieciowych)
- UÅ¼ywane w SCADA do rekonstrukcji przebiegu awarii
- PrzykÅ‚ad: 
  ```
  T+0.000s: Grid frequency drop detected (49.2 Hz)
  T+0.023s: Inverter-01 tripped (under-frequency protection)
  T+0.045s: Inverter-02 tripped
  T+0.120s: BESS discharge started (frequency support)
  ```

**Potwierdzenia i komentarze (Acknowledgements & Annotations)**:
- Operator potwierdza alarm: "Acknowledged by J.Smith, dispatched technician"
- Komentarze (np. po serwisie): "String-42 repaired, connector replaced"

#### Wymagania dotyczÄ…ce timestamping

Dla **SOE**, wymagana jest synchronizacja czasu z dokÅ‚adnoÅ›ciÄ… **< 1 ms** (PTPâ€”Precision Time Protocol, IEEE 1588). Dla zwykÅ‚ych alarmÃ³w, NTP (dokÅ‚adnoÅ›Ä‡ ~10 ms) jest wystarczajÄ…cy.

<KeyConcept title="SOE vs. Alarmy vs. Logs">
- **SOE**: Zdarzenia binarne (true/false), wysokie tempo (~kHz dla fault analysis), bardzo precyzyjny timestamp. UÅ¼ywane gÅ‚Ã³wnie w SCADA utility-scale.
- **Alarmy**: Zdarzenia z kontekstem (wartoÅ›ci parametrÃ³w, severity), tempo Å›rednie (~Hz), timestamp NTP. GÅ‚Ã³wne narzÄ™dzie dla operatorÃ³w.
- **Logs**: Tekstowe komunikaty (debug, info, warning, error) z systemÃ³w (software, OS). Tempo zmienne, uÅ¼ywane dla troubleshooting IT/OT.
</KeyConcept>

<Example title="Analiza SOE: Trip invertera podczas burzy">
Farma PV 5 MW, burza z wyÅ‚adowaniami atmosferycznymi w pobliÅ¼u. System SCADA rejestruje SOE:

```
2025-07-15 16:42:33.000  Grid voltage: 230 V (normal)
2025-07-15 16:42:33.485  Lightning strike detected (surge arrester activation, String-box-12)
2025-07-15 16:42:33.512  Inverter-08: DC overvoltage alarm (850 V, threshold 650 V)
2025-07-15 16:42:33.520  Inverter-08: Emergency shutdown
2025-07-15 16:42:33.580  String-42, String-43, String-44: Communication lost (likely surge damage to gateway)
2025-07-15 16:42:35.200  Grid voltage restored: 232 V
2025-07-15 16:42:40.000  Inverter-08: Manual reset by operator (remote)
2025-07-15 16:42:42.100  Inverter-08: Restarted, normal operation
```

**Diagnoza** (na podstawie SOE):
- Surge od pioruna â†’ przepiÄ™cie DC w stringach 42â€“44
- Inverter 08 zadziaÅ‚aÅ‚ poprawnie (ochrona przed overvoltage)
- Gateway komunikacyjny uszkodzony (wymaga wymiany)
- **Akcja**: Wymiana gateway (2 dni przestoju dla 3 stringÃ³w), weryfikacja surge protection (varistory w string-boxach)

**Bez SOE**: Operator widzi tylko "Inverter-08 offline", diagnoza zajmuje godziny (wyjazd na miejsce, testy). Z SOE: diagnoza w 10 minut (remote), zamÃ³wienie czÄ™Å›ci, planowana wizyta serwisowa.
</Example>

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 10 minut

**Przebieg**:
1. PrzeglÄ…d typÃ³w zdarzeÅ„ (alarmy, stany, SOE)â€”4 min
2. PrzykÅ‚ad analizy SOE (trip invertera)â€”4 min (bardzo dydaktyczne, studenci uwielbiajÄ… case studies)
3. Pytanie: "Dlaczego SOE wymaga < 1 ms dokÅ‚adnoÅ›ci, a alarmy mogÄ… mieÄ‡ ~10 ms?"â€”2 min

**Punkty kluczowe**:
- **Event-driven â‰  less important**: Alarmy to najcenniejsze dane dla operatorÃ³w (action triggers)
- **SOE to CSI dla OZE**: Rekonstrukcja sekwencji zdarzeÅ„ = Å›ledztwo przyczynowo-skutkowe
- **Timestamp accuracy matters**: Dla SOE, kaÅ¼da milisekunda liczy siÄ™ (cause-effect musi byÄ‡ poprawny)

**Pytania studenckie**:
- Q: Jak system rozrÃ³Å¼nia "prawdziwy alarm" od "faÅ‚szywego alarmu" (false positive)?
- A: Nie rozrÃ³Å¼nia automatycznieâ€”to zadanie dla logiki alarmowej (histereza, filtry, suppression). Dobrze zaprojektowany system ma precision > 90% (< 10% false positives). SzczegÃ³Å‚y w W5 (Alarmowanie).

- Q: Co z cyberbezpieczeÅ„stwem? Czy ktoÅ› moÅ¼e wstrzyknÄ…Ä‡ faÅ‚szywe alarmy?
- A: Tak, to powaÅ¼ne zagroÅ¼enie. Ochrona: (1) autentykacja ÅºrÃ³deÅ‚ (certyfikaty X.509), (2) szyfrowanie MQTT/TLS, (3) segregacja OT/IT, (4) IDS (Intrusion Detection System) dla anomalous event patterns.

</details>

---

### 3. Metadane (Metadata & Configuration Data)

**Definicja**: Informacje **o systemie monitoringu i instalacji**, ktÃ³re zmieniajÄ… siÄ™ rzadko (dni, miesiÄ…ce) i sÄ… niezbÄ™dne do **interpretacji** danych pomiarowych.

#### Charakterystyka

| Aspekt | Opis |
|--------|------|
| **CzÄ™stotliwoÅ›Ä‡ zmian** | Bardzo rzadka (commissioning, upgrades, rekonfiguracje) |
| **ObjÄ™toÅ›Ä‡** | Minimalna (< 0.1% caÅ‚kowitej objÄ™toÅ›ci) |
| **SkÅ‚adowanie** | Relacyjne DB (PostgreSQL), JSON/YAML configs, CMDB (Configuration Management DB) |
| **Operacje** | Wyszukiwanie, wersjonowanie, audyt zmian |

#### PrzykÅ‚ady metadanych

**Konfiguracje urzÄ…dzeÅ„**:
- Parametry inverterÃ³w: Moc nominalna (kW), napiÄ™cia MPP (V_min, V_max), firmware version
- Parametry BESS: PojemnoÅ›Ä‡ nominalna (kWh), C-rate (max charging/discharging speed), chemistrytype (NMC, LFP)
- Parametry czujnikÃ³w: Model, serial number, data ostatniej kalibracji, offset/gain correction factors

**Topologia instalacji**:
- Mapa poÅ‚Ä…czeÅ„: KtÃ³ry string jest poÅ‚Ä…czony z ktÃ³rym inverterem? KtÃ³ra turbina jest w ktÃ³rym klastrze?
- Geolokalizacja: GPS coordinates (dla analiz shading, wind patterns)
- Schemat elektryczny: Single-line diagram (SLD), schemat logiczny SCADA

**Kalibracje i certyfikaty**:
- Certyfikaty kalibracji pyranometrÃ³w (lab reports, uncertainty budgets)
- Historia dryftÃ³w: Jak czujnik zmieniaÅ‚ odczyty w czasie (trend analysis)
- Daty next calibration due

**Wersje oprogramowania**:
- Firmware inverterÃ³w, BMS, PLC
- SCADA software version, database schema version
- Edge gateway software (Python scripts, Node-RED flows)

#### Znaczenie dla analiz

Metadane sÄ… **kluczowe dla kontekstualizacji** danych pomiarowych:
- **Bez topologii**: Nie wiesz, Å¼e string-42 jest czÄ™Å›ciowo zacieniony przez drzewo â†’ bÅ‚Ä™dna diagnoza
- **Bez kalibracji**: Pyranometr z 5% dryftem â†’ bÅ‚Ä™dne obliczenia PR, faÅ‚szywe alarmy o under-performance
- **Bez firmware version**: Bug w inverterze firmware 1.2.3 wpÅ‚ywa na 10 farm â†’ bez tej informacji, kaÅ¼da farma diagnozowana oddzielnie (marnowanie czasu)

<Example title="Metadane ratujÄ… analizÄ™: Dryft pyranometru">
Farma PV 10 MW, operator zauwaÅ¼a systematyczny spadek PR o 3 pp w ciÄ…gu 6 miesiÄ™cy. Analiza danych:
- Irradiancja POA: 1800 kWh/mÂ²/rok (typowa dla regionu)
- Produkcja AC: zgodna z irradiacjÄ… (PR = 83%, obliczony z danych)
- **Ale**: PR powinien byÄ‡ ~86% dla tej farmy (zgodnie z garantowanÄ… wydajnoÅ›ciÄ…)

Operator sprawdza **metadane pyranometru**:
- Model: Kipp & Zonen CMP11 (klasa A)
- Data ostatniej kalibracji: **2 lata temu** (should be 1 year!)
- Dryfty historyczne (z poprzednich kalibracji): +2â€“3% per year

**Diagnoza**: Pyranometr over-reports irradiance by ~5% â†’ PR jest faÅ‚szywie niÅ¼szy. Po rekalibracji (koszt: â‚¬800), PR powraca do 86%.

**Wniosek**: Bez metadanych (historia kalibracji), operator by podejrzewaÅ‚ problem z moduÅ‚ami/inverterami â†’ kosztowna inspekcja termowizyjna, testy I-V. Metadane pozwoliÅ‚y zdiagnozowaÄ‡ problem za â‚¬800 zamiast â‚¬5000+.
</Example>

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 8 minut

**Przebieg**:
1. PrzeglÄ…d typÃ³w metadanych (konfiguracje, topologia, kalibracje, software versions)â€”4 min
2. PrzykÅ‚ad dryft pyranometruâ€”3 min
3. Pytanie: "Czy metadane powinny byÄ‡ w tym samym systemie co dane pomiarowe?"â€”1 min

**Punkty kluczowe**:
- **Metadane to fundament jakoÅ›ci analiz**: Bez kontekstu, dane sÄ… bezwartoÅ›ciowe (garbage in, garbage out)
- **Wersjonowanie metadanych**: Konfiguracje zmieniajÄ… siÄ™ w czasie (firmware updates, rekonfiguracje). Trzeba Å›ledziÄ‡ **kiedy co siÄ™ zmieniÅ‚o**, Å¼eby analizy historyczne byÅ‚y poprawne
- **CMDB to best practice**: W duÅ¼ych instalacjach, metadane w dedykowanym Configuration Management Database (np. NetBox, Nautobot)

**Pytania studenckie**:
- Q: Czy metadane powinny byÄ‡ w TSDB (InfluxDB) czy w osobnej bazie (PostgreSQL)?
- A: Depends. **Rzadko zmienne** (topology, device specs): PostgreSQL (relacyjne, lepsze dla zÅ‚oÅ¼onych queries). **CzÄ™sto zmienne** (firmware versions, thresholds): TSDB (Å‚atwiejsze Å›ledzenie zmian w czasie). Best practice: obieâ€”PostgreSQL jako master, TSDB dla audit trail.

- Q: Jak automatyzowaÄ‡ synchronizacjÄ™ metadanych (np. firmware versions) z urzÄ…dzeÅ„?
- A: OPC UA ma wbudowany mechanizm (device profiles, model discovery). Modbus: brak (trzeba read manual registers i mapowaÄ‡). MQTT: custom topic `/devices/{id}/metadata`. Best: Centralne CMDB + automated discovery scripts (Python + SNMP/OPC UA).

</details>

---

## Å¹rÃ³dÅ‚a danych: Technologie OZE

KaÅ¼da technologia OZE ma **specyficzne urzÄ…dz

enia i czujniki**, ktÃ³re sÄ… gÅ‚Ã³wnym ÅºrÃ³dÅ‚em danych. PoniÅ¼ej szczegÃ³Å‚owy przeglÄ…d dla 4 technologii: PV, wiatr, BESS, biogaz.

### 1. Fotowoltaika (PV): Inwertery i monitoring string-level

#### Inwertery (Inverters)

**Funkcja**: Konwersja DC (z moduÅ‚Ã³w PV) â†’ AC (do sieci), MPPT (Maximum Power Point Tracking), ochrony (over/under voltage, frequency, island detection).

**GÅ‚Ã³wne parametry**:

| Tag | Jednostka | Sampling | Opis |
|-----|-----------|----------|------|
| P_AC | kW | 10 s | Moc aktywna AC (output) |
| P_DC | kW | 10 s | Moc DC (input z moduÅ‚Ã³w) |
| Q_AC | kVAr | 10 s | Moc bierna AC |
| V_AC (L1, L2, L3) | V | 10 s | NapiÄ™cia AC (3-phase) |
| I_AC (L1, L2, L3) | A | 10 s | PrÄ…dy AC |
| V_DC | V | 10 s | NapiÄ™cie DC bus (input) |
| I_DC | A | 10 s | PrÄ…d DC (suma stringÃ³w) |
| E_total | kWh | 1 min | Licznik energii (lifetime cumulative) |
| T_radiator | Â°C | 1 min | Temperatura radiatora (heatsink) |
| Frequency | Hz | 10 s | CzÄ™stotliwoÅ›Ä‡ sieci |
| Status | enum | on-change | Running, Standby, Fault, Off |
| Fault codes | bitmask | on-change | Kody bÅ‚Ä™dÃ³w (per standard, np. Sunspec) |

**ProtokoÅ‚y komunikacyjne**:
- **Modbus TCP/RTU**: DominujÄ…cy (SMA, Fronius, Huawei, ABB)
- **Sunspec**: Standardyzacja mapy rejestrÃ³w Modbus dla PV (open standard)
- **OPC UA**: Nowsze inwertery (Siemens, SolarEdgeâ€”commercial)
- **Proprietary**: API producentÃ³w (SolarEdge Cloud API, Enphase Enlighten API)

#### String-level monitoring

**Funkcja**: Monitoring poszczegÃ³lnych stringÃ³w (grupki moduÅ‚Ã³w poÅ‚Ä…czonych szeregowo) dla wczesnej detekcji problemÃ³w (shading, degradacji, hot spots).

**UrzÄ…dzenia**:
- **String combiner boxes** z pomiarem: PrÄ…d/napiÄ™cie kaÅ¼dego stringa
- **Smart junction boxes**: Wbudowane monitoring + DC circuit breakers
- **String optimizers** (np. SolarEdge, Tigo): Monitoring + optymalizacja MPPT na poziomie moduÅ‚u/stringa

**GÅ‚Ã³wne parametry**:

| Tag | Jednostka | Sampling | Opis |
|-----|-----------|----------|------|
| I_string | A | 1 min | PrÄ…d stringa (primary metric) |
| V_string | V | 1 min | NapiÄ™cie stringa |
| P_string | W | 1 min | Moc (I Ã— V) |
| T_module | Â°C | 1 min | Temperatura moduÅ‚u (jeÅ›li dostÄ™pna) |

**Analiza**:
- **PorÃ³wnanie stringÃ³w**: JeÅ›li string-42 ma I_string o 15% niÅ¼szy niÅ¼ Å›rednia (przy tej samej irradiancji) â†’ problem (shading, degradacja, connector issue)
- **Curve tracing**: Pomiar krzywej I-V stringa (wymaga specjalnego sprzÄ™tuâ€”curve tracer) â†’ diagnoza problemÃ³w na poziomie moduÅ‚u

<Example title="Monitoring string-level: Wykrycie hot spot">
Farma PV 1 MW, 40 stringÃ³w (25 moduÅ‚Ã³w/string). String-level monitoring (combiner boxes z pomiarem prÄ…du):

**Obserwacja**:
- Strings 1â€“39: I_avg = 8.2 A (przy irradiancji 800 W/mÂ²)
- String-40: I = 7.1 A (**13% niÅ¼szy**)

**Analiza**:
- NapiÄ™cie string-40: 750 V (normalne, wiÄ™c nie ma problemu z poÅ‚Ä…czeniami szeregowymi)
- Temperatura otoczenia: normalna (brak shading)
- **Diagnoza**: Prawdopodobnie hot spot (uszkodzona cela w module, zmniejsza prÄ…d caÅ‚ego stringa przez diodÄ™ bypass)

**Akcja**:
- Inspekcja termowizyjna (drone + kamera IR): Wykryto hot spot w module #18 w string-40 (temperatura 95Â°C vs. 55Â°C dla pozostaÅ‚ych)
- Wymiana moduÅ‚u: Koszt â‚¬250, 2 h pracy

**ROI monitoringu string-level**: Bez niego, problem wykryty dopiero po awarii moduÅ‚u (poÅ¼ar/delamination) â†’ koszt â‚¬5000+ (wymiana wielu moduÅ‚Ã³w, przestÃ³j, ubezpieczenie).
</Example>

#### Weather stations

**Funkcja**: Pomiar warunkÃ³w Å›rodowiskowych dla obliczania PR i prognozowania produkcji.

**GÅ‚Ã³wne czujniki**:

| Czujnik | Jednostka | Sampling | DokÅ‚adnoÅ›Ä‡ |
|---------|-----------|----------|-----------|
| Pyranometr POA | W/mÂ² | 1 s | Â±2% (klasa A per ISO 9060) |
| Pyranometr GHI | W/mÂ² | 1 s | Â±2% |
| Temp moduÅ‚u (back-of-module) | Â°C | 10 s | Â±1Â°C |
| Temp ambient | Â°C | 10 s | Â±0.5Â°C |
| Anemometr (prÄ™dkoÅ›Ä‡ wiatru) | m/s | 1 s | Â±0.3 m/s |
| Wind vane (kierunek) | Â° | 10 s | Â±5Â° |
| Rain gauge | mm/h | 1 min | Â±5% |

**Kalibracja**: Pyranometry klasy A wymagajÄ… kalibracji co 1â€“2 lata (w akredytowanym laboratorium, koszt â‚¬500â€“1000).

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 12 minut

**Przebieg**:
1. PrzeglÄ…d urzÄ…dzeÅ„ PV (inwertery, string monitoring, weather stations)â€”5 min
2. PrzykÅ‚ad hot spot detectionâ€”4 min
3. OmÃ³wienie protokoÅ‚Ã³w (Modbus, Sunspec, OPC UA)â€”2 min
4. Pytanie: "Czy monitoring string-level zawsze siÄ™ opÅ‚aca?"â€”1 min

**Punkty kluczowe**:
- **Inwertery = mÃ³zg farmy PV**: To gÅ‚Ã³wne ÅºrÃ³dÅ‚o danych (power, energy, faults)
- **String monitoring = early warning**: Wykrywa problemy zanim stanÄ… siÄ™ krytyczne
- **Sunspec = game changer**: Standardizacja Modbus registers â†’ Å‚atwa integracja rÃ³Å¼nych producentÃ³w
- **Weather stations = context**: Bez irradiancji, nie moÅ¼na obliczyÄ‡ PR

**Pytania studenckie**:
- Q: Czy monitoring string-level zawsze siÄ™ opÅ‚aca?
- A: ZaleÅ¼y od skali. Dla farm < 1 MW: opcjonalny (ROI ~5â€“7 lat). Dla farm > 5 MW: **must have** (ROI < 2 lata, szczegÃ³lnie w regionach o ryzyku soiling, shading, kradzieÅ¼y). Dla dachowych < 20 kWp: nie (koszt > wartoÅ›Ä‡).

- Q: Dlaczego pyranometry sÄ… takie drogie (â‚¬1000â€“3000)?
- A: DokÅ‚adnoÅ›Ä‡ i stabilnoÅ›Ä‡ long-term. Tanie pyranometry (photodiodes, â‚¬50â€“200) dryfujÄ… o 10â€“20% w rok. Pyranometry termopile (klasa A, â‚¬1000+) dryfujÄ… < 2%/rok. Dla farmy 10 MW, 2% bÅ‚Ä…d pyranometru = â‚¬50k/rok bÅ‚Ä™dnych obliczeÅ„ PR.

</details>

---

### 2. Wiatr: SCADA turbin i CMS

#### SCADA turbin wiatrowych

**Funkcja**: Monitoring i sterowanie turbinÄ… (yaw control, pitch control, start/stop sequences, fault handling).

**GÅ‚Ã³wne parametry** (typowa turbina 3 MW, ~500 tagÃ³w total):

**Elektryczne**:
- P_AC, Q_AC, V_AC, I_AC, Frequency, Power Factor (jak w PV)
- E_total (lifetime cumulative)

**Wiatr**:
- Wind speed (m/s): Anemometr na gondoli (za rotoremâ€”wake affected) + met mast (reference, unobstructed)
- Wind direction (Â°): Wind vane na gondoli
- Air density (kg/mÂ³): Obliczane z temp/ciÅ›nienia/wilgotnoÅ›ci

**Mechaniczne**:
- Rotor speed (RPM): Generator speed, rotor speed (z gearbox ratio)
- Yaw angle (Â°): ObrÃ³t gondoli (tracking wiatru)
- Pitch angles (Â°): KÄ…t kaÅ¼dej Å‚opatki (3 Å‚opatki, sterowane niezaleÅ¼nie)
- Vibrations (g, m/sÂ²): Akcelerometry w gearbox, generator, main bearing (CMS)

**Termiczne**:
- Temperatury Å‚oÅ¼ysk (gearbox, generator, main bearing)
- Temperatura oleju (gearbox, hydraulics)
- Temperatura otoczenia (inside nacelle, outside)

**Statusy i alarmy**:
- Status: Running, Idling, Standby, Fault, Maintenance
- Fault codes (manufacturer-specific, ~200â€“500 rÃ³Å¼nych kodÃ³w)

**ProtokoÅ‚y**:
- **OPC UA**: Standard dla nowoczesnych turbin (Vestas, Siemens Gamesa, GE)
- **Modbus TCP**: Starsze turbiny
- **IEC 61400-25**: Standard komunikacyjny dla turbin wiatrowych (mapping na OPC UA lub IEC 61850)

#### CMS (Condition Monitoring System)

**Funkcja**: Wczesna detekcja uszkodzeÅ„ mechanicznych (Å‚oÅ¼yska, przekÅ‚adnie, Å‚opatki) przez analizÄ™ drgaÅ„.

**Czujniki**:
- **Akcelerometry**: Triaxial (3-osowe), zakres 10â€“50 kHz, montowane na Å‚oÅ¼yskach gÅ‚Ã³wnych, gearbox, generator
- **Mikrofony ultradÅºwiÄ™kowe**: Detekcja wycieku smaru, pÄ™kniÄ™Ä‡ Å‚opatek

**Analiza**:
- **Analiza widmowa (FFT)**: RozkÅ‚ad sygnaÅ‚u na czÄ™stotliwoÅ›ci â†’ kaÅ¼de Å‚oÅ¼ysko ma charakterystyczne czÄ™stotliwoÅ›ci (BPFO, BPFI, BSF, FTF)
- **Envelope analysis**: Detekcja modulacji amplitudy (early bearing faults)
- **Trend analysis**: Wzrost amplitud w czasie â†’ predykcja koÅ„ca Å¼ycia Å‚oÅ¼yska

**ObjÄ™toÅ›Ä‡ danych**: CMS generuje **1â€“5 GB/dzieÅ„/turbina** (high-frequency sampling 10â€“50 kHz). Zwykle dane sÄ… pre-processed on-edge (FFT, feature extraction), wysyÅ‚ane tylko agregaty (spektra, RMS, kurtosis).

<Example title="CMS wykrywa uszkodzenie Å‚oÅ¼yska: Turbina 3 MW">
Farma wiatrowa 30 MW (10 turbin). CMS monitoruje wibracje gearbox:

**Obserwacja** (Turbina-05, miesiÄ…c 18 eksploatacji):
- Wzrost amplitudy w paÅ›mie 1200â€“1400 Hz (BPFOâ€”Ball Pass Frequency Outer race bearing #42)
- RMS vibration: 5 mm/s â†’ 12 mm/s w ciÄ…gu 2 miesiÄ™cy

**Diagnoza**: Wczesne uszkodzenie Å‚oÅ¼yska #42 (high-speed shaft bearing w gearbox). Prognoza: failure w 2â€“3 miesiÄ…cach.

**Akcja**:
- Planowana wymiana Å‚oÅ¼yska (podczas routine maintenance windowâ€”low wind season)
- Koszt: â‚¬30k (bearing + labor), 3 dni przestoju
- **Bez CMS**: Awaria nieplanowana â†’ wymiana gearbox (â‚¬300k) + dÅ‚ugi przestÃ³j (2â€“3 tygodnie) â†’ utrata produkcji ~150 MWh â†’ strata â‚¬7500

**ROI CMS**: System dla 10 turbin: â‚¬200k. Jedna uratowana awaria gearbox = â‚¬300k savings. ROI < 1 rok.
</Example>

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 12 minut

**Przebieg**:
1. PrzeglÄ…d SCADA turbin (parametry, protokoÅ‚y)â€”5 min
2. CMSâ€”funkcja, czujniki, analiza FFTâ€”4 min
3. PrzykÅ‚ad wykrycia uszkodzenia Å‚oÅ¼yskaâ€”3 min

**Punkty kluczowe**:
- **Turbiny = najbardziej zÅ‚oÅ¼one urzÄ…dzenia w OZE**: ~500 tagÃ³w/turbina (vs. ~20 dla invertera PV)
- **CMS to standard w wietrze**: Dla turbin > 1 MW, CMS jest must-have (ROI < 2 lata)
- **FFT to magia diagnostyki**: Pozwala "zobaczyÄ‡" co dzieje siÄ™ wewnÄ…trz gearbox bez otwierania

**Pytania studenckie**:
- Q: Dlaczego nie uÅ¼ywamy CMS w PV?
- A: PV nie ma ruchomych czÄ™Å›ci mechanicznych (poza trackeramiâ€”tam CMS byÅ‚by uÅ¼yteczny, ale rzadko wdraÅ¼any). PV degraduje siÄ™ elektrycznie/cieplnie, nie mechanicznie.

- Q: Co to sÄ… czÄ™stotliwoÅ›ci BPFO, BPFI?
- A: BPFO (Ball Pass Frequency Outer race) = czÄ™stotliwoÅ›Ä‡, z jakÄ… kulki Å‚oÅ¼yska uderzajÄ… w zewnÄ™trznÄ… bieÅ¼niÄ™. Obliczana z geometrii Å‚oÅ¼yska + RPM. KaÅ¼de Å‚oÅ¼ysko ma unique "fingerprint" czÄ™stotliwoÅ›ci â†’ FFT pozwala zidentyfikowaÄ‡ problem.

</details>

---

### 3. BESS (Battery Energy Storage Systems): BMS i SOC/SOH tracking

#### BMS (Battery Management System)

**Funkcja**: Monitoring i sterowanie pakietami baterii (Å‚adowanie/rozÅ‚adowanie, balansowanie cel, ochrony termiczne/elektryczne).

**Hierarchia**:
- **Cell-level**: Pojedyncze cele (np. 18650 lithium-ion, 3.7 V nominalne)
- **Module-level**: Grupa cel (np. 12 cel = moduÅ‚ 44 V)
- **Rack/String-level**: Grupa moduÅ‚Ã³w (np. 10 moduÅ‚Ã³w = rack 440 V)
- **System-level**: CaÅ‚y BESS (np. 10 rackÃ³w = 1 MWh)

**GÅ‚Ã³wne parametry**:

**Cell-level** (monitoring na poziomie pojedynczych celâ€”tysiÄ…ce tagÃ³w dla duÅ¼ych BESS):
- V_cell (V): NapiÄ™cie kaÅ¼dej celi (critical for balancing)
- T_cell (Â°C): Temperatura kaÅ¼dej celi (thermal runaway detection)

**Module/Rack-level**:
- V_rack, I_rack, P_rack
- Î”V_cell_max (V): Maksymalna rÃ³Å¼nica napiÄ™Ä‡ miÄ™dzy celami w rack (imbalance indicator)
- Î”T_cell_max (Â°C): Maksymalna rÃ³Å¼nica temperatur miÄ™dzy celami

**System-level**:
- SoC (%): Stan naÅ‚adowania (0â€“100%)
- SoH (%): Stan zdrowia (100% = new, 80% = end-of-life)
- P_charge, P_discharge (kW): Aktualna moc Å‚adowania/rozÅ‚adowania
- E_stored (kWh): Energia przechowywana obecnie
- Cycles_total: Liczba peÅ‚nych cykli (lifetime counter)
- Charge/discharge efficiency (%): Round-trip efficiency

**Ochrony i alarmy**:
- Over-voltage, under-voltage (cell, module, system level)
- Over-temperature, under-temperature
- Over-current (charging, discharging)
- Smoke detection, thermal runaway detection (safety-critical)

**ProtokoÅ‚y**:
- **Modbus TCP**: DominujÄ…cy (Tesla Powerpack, LG Chem, BYD)
- **CAN bus**: WewnÄ™trzna komunikacja BMS (cell â†’ module â†’ rack â†’ system)
- **OPC UA**: Nowe systemy (integracja z SCADA)

#### SoC/SoH tracking

**SoC (State of Charge)**:
- **Coulomb counting**: Integrate current over time: $SoC(t) = SoC(t_0) + \frac{1}{Q_{nom}} \int I(t) \, dt$
- **Korekta modelem**: Extended Kalman Filter (EKF) koryguje coulomb counting o model elektrochemiczny (napiÄ™cie vs. SoC curve)
- **BÅ‚Ä™dy**: Drift over time (accumulated errors w coulomb counting), wymaga okresowej rekalibracji (full charge/discharge cycle)

**SoH (State of Health)**:
- **Definicja**: $SoH = \frac{C_{actual}}{C_{rated}} \times 100\%$
- **Pomiar**: Full charge/discharge cycle (measure actual capacity) co 1â€“3 miesiÄ…ce
- **Degradacja**: LFP (LiFePOâ‚„): ~80% SoH po 5000â€“8000 cykli. NMC (Nickel Manganese Cobalt): ~80% po 3000â€“5000 cykli
- **Tracking**: Monitor SoH trend â†’ prognoza end-of-life (EoL) â†’ planowanie wymiany baterii

<Example title="BESS monitoring: Wykrycie cell imbalance">
BESS 1 MWh (LFP chemistry), 10 rackÃ³w Ã— 100 kWh. BMS monitoruje 2560 cel (cell-level monitoring):

**Obserwacja** (Rack-03, tydzieÅ„ 120 eksploatacji):
- Î”V_cell_max = 85 mV (normalnie < 50 mV)
- Cela #42 w Rack-03: V_cell = 3.25 V (inne: 3.32â€“3.34 V)
- SoC: 50% (mid-range, wiÄ™c napiÄ™cia powinny byÄ‡ zbliÅ¼one)

**Diagnoza**: Cell imbalanceâ€”cela #42 ma niÅ¼szÄ… pojemnoÅ›Ä‡ (degraded) lub wyÅ¼szÄ… rezystancjÄ™ wewnÄ™trznÄ….

**Akcja**:
1. **Balancing cycle**: BMS uruchamia aktywne balansowanie (dissipate energy z wyÅ¼szych cel, charge niÅ¼szych)â€”trwa 2 h
2. **Po balancingu**: Î”V zmniejszone do 60 mV (poprawa, ale wciÄ…Å¼ > norma)
3. **Decyzja**: MonitorowaÄ‡ przez kolejne 2 tygodnie. JeÅ›li Î”V > 100 mV â†’ wymiana Rack-03 (koszt: â‚¬10k)

**Bez monitoringu cell-level**: Rack pracuje z imbalance â†’ przyspieszenie degradacji pozostaÅ‚ych cel â†’ przedwczesna awaria caÅ‚ego rack (â‚¬10k) + potencjalne thermal runaway (safety risk).
</Example>

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 12 minut

**Przebieg**:
1. PrzeglÄ…d BMS (hierarchia, parametry)â€”5 min
2. SoC/SoH tracking (algorytmy, degradacja)â€”4 min
3. PrzykÅ‚ad cell imbalanceâ€”3 min

**Punkty kluczowe**:
- **BESS = najbardziej data-intensive w OZE**: TysiÄ…ce cel Ã— monitoring kaÅ¼dej = gigabajty danych/dzieÅ„
- **Cell-level monitoring = safety**: Thermal runaway detection (critical dla bezpieczeÅ„stwa)
- **SoH tracking = financial**: Baterie degradujÄ… siÄ™ â†’ trzeba planowaÄ‡ wymianÄ™ (CapEx planning)

**Pytania studenckie**:
- Q: Czy monitorujemy kaÅ¼dÄ… celÄ™ (cell-level) czy tylko moduÅ‚y/racki?
- A: ZaleÅ¼y od systemu. **High-end BESS** (Tesla Megapack, Fluence): cell-level monitoring. **Mid-range** (BYD, LG Chem): module-level. **Low-cost**: rack-level only. Trade-off: granularity vs. koszt hardware/software.

- Q: Co to jest thermal runaway i jak go wykrywamy?
- A: Thermal runaway = reakcja Å‚aÅ„cuchowa: cela przegrzewa siÄ™ â†’ wewnÄ™trzne zwarcie â†’ wiÄ™cej ciepÅ‚a â†’ eksplozja/poÅ¼ar. Wykrywanie: (1) Î”T/Î”t > threshold (np. 5Â°C/min), (2) smoke detection, (3) gas sensors (CO, HF). Reakcja: natychmiastowe odciÄ™cie rack, aktywacja systemu gaÅ›niczego (FM-200, Novec 1230).

</details>

---

### 4. Biogaz: PLC/SCADA procesowe + czujniki gazÃ³w

#### PLC/SCADA biogazowni

**Funkcja**: Sterowanie procesem fermentacji (feeding, stirring, heating), monitoring CHP (Combined Heat and Power), bezpieczeÅ„stwo (gas detection, fire suppression).

**GÅ‚Ã³wne parametry procesowe**:

**Fermentory**:
- Temperatury (Â°C): Fermentor (mesophilic 35â€“40Â°C lub thermophilic 50â€“60Â°C), digestate
- Poziomy (m, %): Poziom cieczy w fermentorach (ultrasonic/radar level sensors)
- CiÅ›nienia (mbar): CiÅ›nienie w reaktorze (slight overpressure, ~5â€“20 mbar)
- pH: Optymalne 6.8â€“7.5 (dla bakterii metanogennych)
- PrzepÅ‚ywy (mÂ³/h): Feeding rate (substrate in), digestate out

**Biogas**:
- CHâ‚„ (%): ZawartoÅ›Ä‡ metanu (target: 50â€“65%, higher = better)
- COâ‚‚ (%): ZawartoÅ›Ä‡ COâ‚‚ (complement do CHâ‚„, ~35â€“50%)
- Hâ‚‚S (ppm): SiarkowodÃ³r (toxic, corrosiveâ€”limit < 500 ppm before CHP)
- Hâ‚‚O (%RH): WilgotnoÅ›Ä‡ (condensation riskâ€”dryers needed)
- PrzepÅ‚yw biogazu (mÂ³/h): Total biogas production

**CHP (Cogenerator)**:
- P_el (kW), E_el (kWh): Moc/energia elektryczna
- P_th (kW), E_th (kWh): Moc/energia cieplna (wykorzystana do ogrzewania fermentorÃ³w, sprzedawana do sieci ciepÅ‚owniczej)
- Exhaust temp (Â°C): Temperatura spalin
- RPM, oil pressure, coolant temp: Parametry silnika CHP

**Safety**:
- Gas detectors (CHâ‚„, Hâ‚‚, CO): Dla wykrywania wyciekÃ³w (explosion riskâ€”LEL Lower Explosion Limit dla CHâ‚„ = 5%)
- Flame detectors, smoke detectors
- Emergency shutdown systems (ESD): Zatrzymanie procesu przy wykryciu zagroÅ¼enia

**ProtokoÅ‚y**:
- **Modbus TCP/RTU**: PLC (Siemens S7, Allen-Bradley) â†” SCADA
- **OPC UA**: Nowsze instalacje (interoperability)
- **Profibus/Profinet**: WewnÄ™trzna sieÄ‡ PLC â†” I/O modules

<Example title="Biogazownia 1 MW: Monitoring jakoÅ›ci biogazu">
Biogazownia 1 MW (agricultural, corn silage + manure substrate):

**Parametry**:
- Biogas production: 400 mÂ³/h (design capacity)
- CHâ‚„ content: 58% (target: > 55%)
- Hâ‚‚S content: 350 ppm (target: < 500 ppm before CHP)
- CHP efficiency: 40% electrical, 45% thermal

**Monitoring**:
1. **Proces fermentacji** (PLC + SCADA):
   - Temp fermentor: 38Â°C (mesophilic, controlled Â± 1Â°C)
   - pH: 7.2 (stableâ€”good microbial balance)
   - OLR (Organic Loading Rate): 3.5 kg VS/mÂ³/day (volatile solidsâ€”optimal range)

2. **JakoÅ›Ä‡ biogazu** (inline gas analyzers):
   - CHâ‚„, COâ‚‚: Infrared sensors (non-dispersive, NDIR)
   - Hâ‚‚S: Electrochemical sensor (needs calibration co 6 miesiÄ™cy)

3. **CHP**:
   - P_el: 950 kW (95% capacityâ€”very good)
   - Exhaust temp: 420Â°C (normal)

**Anomalia wykryta**:
- TydzieÅ„ 15: Hâ‚‚S wzrÃ³sÅ‚ do 800 ppm (przekroczenie limitu)
- Przyczyna: Zmiana skÅ‚adu substratu (wiÄ™cej manure, mniej corn silage â†’ wiÄ™cej siarki)
- Akcja: (1) ZwiÄ™kszenie dawki Å¼elaza (FeClâ‚ƒâ€”binds Hâ‚‚S), (2) Korekta feeding ratio
- Rezultat: Hâ‚‚S spadÅ‚ do 300 ppm w 3 dni

**Bez monitoringu Hâ‚‚S**: Korozja silnika CHP (Hâ‚‚S + woda = kwas siarkowy) â†’ wymiana cylindrÃ³w (â‚¬50k) + przestÃ³j (1 tydzieÅ„).
</Example>

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 10 minut

**Przebieg**:
1. PrzeglÄ…d parametrÃ³w procesowych (fermentory, biogas, CHP, safety)â€”5 min
2. PrzykÅ‚ad monitoring jakoÅ›ci biogazuâ€”3 min
3. Pytanie: "Dlaczego Hâ‚‚S jest tak krytyczny?"â€”2 min

**Punkty kluczowe**:
- **Biogazownie = najbardziej zÅ‚oÅ¼one procesy w OZE**: Biologiczne + chemiczne + termiczne + elektryczne
- **JakoÅ›Ä‡ biogazu = klucz do efektywnoÅ›ci**: CHâ‚„ content determinuje wartoÅ›Ä‡ energetycznÄ…
- **Safety paramount**: CHâ‚„ jest wybuchowy (LEL 5%), Hâ‚‚S toksyczny (IDLHâ€”Immediately Dangerous to Life or Health = 100 ppm)

**Pytania studenckie**:
- Q: Dlaczego Hâ‚‚S jest taki problematyczny?
- A: (1) **Toksyczny**: 10 ppm = odÃ³r (rotten eggs), 100 ppm = IDLH, 500 ppm = Å›mierÄ‡ w 30 min. (2) **Korozyjny**: Hâ‚‚S + Hâ‚‚O = Hâ‚‚SOâ‚„ (sulfuric acid) â†’ eroduje metal (CHP, rury). (3) **TrujÄ…cy katalizatory**: CHP exhaust aftertreatment (catalytic converters) uszkadzany przez Hâ‚‚S.

- Q: Jak siÄ™ usuwa Hâ‚‚S z biogazu?
- A: (1) **In-situ** (w fermentorze): Dodawanie FeÂ²âº (iron chloride) lub powietrza (biological desulfurization). (2) **Ex-situ** (external scrubber): Activated carbon filters, biological filters, chemical scrubbers. Koszt: â‚¬10â€“50k dla 1 MW biogazowni.

</details>

---

## JakoÅ›Ä‡ i spÃ³jnoÅ›Ä‡ danych: Fundament wiarygodnego monitoringu

Nawet najlepsze czujniki i najszybsze sieci sÄ… bezwartoÅ›ciowe, jeÅ›li **jakoÅ›Ä‡ danych jest niska**. W tej sekcji omÃ³wimy kluczowe aspekty zapewnienia jakoÅ›ci.

### 1. Synchronizacja czasu (Time Synchronization)

**Dlaczego krytyczna?**
- **Korelacja zdarzeÅ„**: Awaria invertera i spadek napiÄ™cia w sieciâ€”czy to zwiÄ…zane? Bez precyzyjnych timestampÃ³w, niemoÅ¼liwe do ustalenia.
- **Agregacje**: Obliczanie Å›rednich 15-min wymaga, Å¼eby wszystkie urzÄ…dzenia miaÅ‚y spÃ³jny czas.
- **Compliance**: SOE (Sequence of Events) dla OSP wymaga dokÅ‚adnoÅ›ci < 1 ms.

**Metody synchronizacji**:

| Metoda | DokÅ‚adnoÅ›Ä‡ | Zastosowanie | Koszt |
|--------|------------|--------------|-------|
| **NTP** (Network Time Protocol) | ~10â€“100 ms | Edge gateways, SCADA servers, alarmy | â‚¬0 (free, built-in OS) |
| **PTP** (Precision Time Protocol, IEEE 1588) | < 1 ms | SOE, fault recorders, synchrophasors | â‚¬â‚¬â‚¬ (dedicated hardware clocks, managed switches) |
| **GPS/GNSS** | < 1 Âµs | Reference clocks dla PTP, offshore wind | â‚¬â‚¬ (GPS receivers ~â‚¬200â€“1000) |

**Best practice**:
- **Wszystkie urzÄ…dzenia edge/fog**: NTP client, sync co 1 min z redundantnymi NTP servers
- **SOE/critical**: PTP grandmaster clock (GPS-synced) + PTP-aware network switches
- **Timezone**: **Always UTC** (unikaj DSTâ€”Daylight Saving Time confusion). Konwersja do local time tylko w warstwie prezentacji (dashboardy).

### 2. Normalizacja jednostek i zakresÃ³w

**Problem**: RÃ³Å¼ne urzÄ…dzenia raportujÄ… w rÃ³Å¼nych jednostkach (W vs. kW, Â°C vs. Â°F, m/s vs. km/h).

**RozwiÄ…zanie**: Standaryzacja w warstwie edge/fog:
- **Jednostki**: SI (International System of Units)â€”kW, kWh, Â°C, m/s, Pa
- **Skalowanie**: Automatyczne (konfiguracja w tag databaseâ€”mnoÅ¼niki, offsety)
- **Walidacja**: Odrzucaj wartoÅ›ci poza zakresami fizycznymi (hardcoded lub z metadanych)

**PrzykÅ‚ad**:
```python
def normalize_power(value, unit):
    """Normalize power to kW"""
    if unit == "W":
        return value / 1000.0
    elif unit == "MW":
        return value * 1000.0
    elif unit == "kW":
        return value
    else:
        raise ValueError(f"Unknown unit: {unit}")
```

### 3. ObsÅ‚uga brakÃ³w danych (Missing Data Handling)

**Przyczyny brakÃ³w**:
- Utrata Å‚Ä…cznoÅ›ci (edge â†” fog, fog â†” cloud)
- Awaria czujnika/gateway
- BÅ‚Ä™dy transmisji (packet loss)

**Strategie**:

| Strategia | Kiedy stosowaÄ‡ | Zalety | Wady |
|-----------|----------------|--------|------|
| **NULL (brak wartoÅ›ci)** | Rozliczenia finansowe, audyty | Nie znieksztaÅ‚ca statystyk | Luki w danych (analiza trudniejsza) |
| **Forward fill** | Statusy binarne (ON/OFF) | Zachowuje ciÄ…gÅ‚oÅ›Ä‡ | MoÅ¼e maskowaÄ‡ problemy |
| **Interpolacja liniowa** | Wolno zmieniajÄ…ce siÄ™ parametry (temp) | GÅ‚adkie serie czasowe | BÅ‚Ä™dne dla szybkich zmian |
| **Model predykcyjny** | DÅ‚ugie luki (> 1 h) | NajdokÅ‚adniejsze | Wymaga ML, kosztowne obliczeniowo |

**Best practice**: Kombinacjaâ€”np. forward fill do 5 min, potem NULL (sygnalizuje problem).

### 4. Åšlad metrologiczny (Metrological Traceability)

**Definicja** (per ISO/IEC Guide 99): WÅ‚aÅ›ciwoÅ›Ä‡ wyniku pomiaru, polegajÄ…ca na moÅ¼liwoÅ›ci powiÄ…zania go z odniesieniem (standardem) przez udokumentowany Å‚aÅ„cuch kalibracji.

**W praktyce**:
- **Certyfikaty kalibracji**: Dla kluczowych czujnikÃ³w (pyranometry, energy meters, gas analyzers)
- **Historia dryftu**: Tracking jak czujnik zmienia odczyty w czasie (trend analysis)
- **NiepewnoÅ›Ä‡ pomiarowa**: KaÅ¼dy pomiar z Â±X% uncertainty (np. Â±2% dla pyranometru klasy A)

**Harmonogram kalibracji** (typowy dla OZE):

| UrzÄ…dzenie | CzÄ™stotliwoÅ›Ä‡ | Koszt | Konsekwencje braku kalibracji |
|------------|---------------|-------|-------------------------------|
| Pyranometry (klasa A) | 1â€“2 lata | â‚¬500â€“1000 | Â±5â€“10% bÅ‚Ä…d PR (false alarms, bÅ‚Ä™dne rozliczenia) |
| Energy meters (revenue-grade) | 2â€“5 lat (wymÃ³g regulacyjny) | â‚¬200â€“500 | NiezgodnoÅ›Ä‡ z regulacjami, spory z OSP |
| Gas analyzers (Hâ‚‚S, CHâ‚„) | 6â€“12 miesiÄ™cy | â‚¬300â€“600 | Safety risk (false negatives), korozja CHP |
| Temperature sensors (RTD) | 2â€“3 lata | â‚¬100â€“200 | BÅ‚Ä™dne obliczenia sprawnoÅ›ci, niewÅ‚aÅ›ciwe sterowanie |

:::tip Kalibracja to inwestycja, nie koszt
â‚¬1000 na rekalibracjÄ™ pyranometru moÅ¼e zapobiec â‚¬10 000 bÅ‚Ä™dnej diagnozy soiling (mycie moduÅ‚Ã³w, gdy problem byÅ‚ w czujniku). **ROI >

 10:1**.
:::

<Inter activeQuiz
  question="KtÃ³re czujniki w farmie PV 10 MW wymagajÄ… najczÄ™stszej kalibracji (co 6â€“12 miesiÄ™cy)?"
  options={[
    "Pyranometry (irradiancja POA/GHI)",
    "Czujniki temperatury moduÅ‚Ã³w (thermocouples)",
    "Energy meters (liczniki AC)",
    "Czujniki prÄ…du DC (stringi)"
  ]}
  correctAnswer={0}
  explanation="Pyranometry dryfujÄ… najszybciej (ze wzglÄ™du na degradacjÄ™ powÅ‚oki optycznej, zabrudzenie, aging fotodiod termopile). Dryft 2â€“5%/rok jest typowy. Czujniki temperatury i prÄ…du sÄ… stabilniejsze (< 1%/rok). Energy meters (revenue-grade) wymagajÄ… kalibracji co 2â€“5 lat (wymÃ³g regulacyjny), ale dryfujÄ… bardzo wolno (< 0.5%/rok)."
/>

<details>
<summary>ğŸ“ Notatki prowadzÄ…cego</summary>

**Czas**: 12 minut

**Przebieg**:
1. Synchronizacja czasu (NTP vs. PTP)â€”3 min
2. Normalizacja jednostekâ€”2 min
3. ObsÅ‚uga brakÃ³w danychâ€”3 min
4. Åšlad metrologiczny i kalibracjeâ€”3 min
5. Quizâ€”1 min

**Punkty kluczowe**:
- **JakoÅ›Ä‡ danych > iloÅ›Ä‡ danych**: Lepiej 10 dobrych tagÃ³w niÅ¼ 100 zÅ‚ych
- **Time sync to fundament**: Bez spÃ³jnych timestampÃ³w, analiza korelacji niemoÅ¼liwa
- **Kalibracja = ubezpieczenie**: Chroni przed bÅ‚Ä™dnymi decyzjami opartymi na danych

**Pytania studenckie**:
- Q: Czy moÅ¼emy automatycznie wykrywaÄ‡ dryft czujnikÃ³w (bez fizycznej kalibracji)?
- A: CzÄ™Å›ciowo. **Peer comparison**: JeÅ›li masz 5 pyranometrÃ³w i jeden pokazuje wartoÅ›ci o 10% niÅ¼sze niÅ¼ pozostaÅ‚e â†’ podejrzenie dryft. **Model comparison**: PorÃ³wnanie odczytÃ³w z modelami satelitarnymi (np. PVGIS, Solargis)â€”jeÅ›li rozbieÅ¼noÅ›Ä‡ > 5%, moÅ¼liwy dryft. Ale **nie zastÄ™puje fizycznej kalibracji** (tylko lab moÅ¼e okreÅ›liÄ‡ absolute accuracy).

- Q: Co z cyberbezpieczeÅ„stwem NTP? Czy ktoÅ› moÅ¼e zaatakowaÄ‡ sync czasu?
- A: Tak, NTP amplification attack (DDoS) lub time spoofing (zmiana czasu, Å¼eby zmyliÄ‡ alarmy). Ochrona: (1) Authenticated NTP (NTP v4 + symmetric key), (2) Redundant NTP servers (3+ sources, outlier detection), (3) Firewall rules (allow NTP tylko z zaufanych ÅºrÃ³deÅ‚).

</details>

---

## Podsumowanie

**Typy danych** w monitoringu OZE:
1. **CiÄ…gÅ‚e (time-series)**: 95% objÄ™toÅ›ci, gÅ‚Ã³wne ÅºrÃ³dÅ‚o analiz
2. **Zdarzeniowe (events)**: Kluczowe dla operatorÃ³w (alarmy, SOE)
3. **Metadane**: Fundament kontekstualizacji i jakoÅ›ci analiz

**Å¹rÃ³dÅ‚a danych** (per technologia):
- **PV**: Inwertery (Modbus/Sunspec), string monitoring, weather stations
- **Wiatr**: SCADA turbin (OPC UA), CMS (wibracje)
- **BESS**: BMS (cell-level monitoring), SoC/SoH tracking
- **Biogaz**: PLC/SCADA procesowe, czujniki gazÃ³w (CHâ‚„, Hâ‚‚S)

**JakoÅ›Ä‡ danych** zapewniana przez:
- SynchronizacjÄ™ czasu (NTP/PTP)
- NormalizacjÄ™ jednostek
- ObsÅ‚ugÄ™ brakÃ³w
- Åšlad metrologiczny (kalibracje)

W nastÄ™pnej sekcji przejdziemy do **KPI** (Key Performance Indicators)â€”jak z tych surowych danych obliczyÄ‡ metryki biznesowe: PR, Availability, CF, SoH/SoC, OEE.


